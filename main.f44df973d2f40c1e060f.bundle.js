(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1006:function(module,exports){},1015:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(545),__webpack_require__(277),__webpack_require__(546),__webpack_require__(278),__webpack_require__(550);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),theme={breakpoints:["40em","52em","64em"],space:[0,4,8,16,32,64,128,256,512],fonts:{body:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:700,bold:700},lineHeights:{body:1.5,heading:1.125},colors:{text:"#000",background:"#fff",primary:"#07c",secondary:"#30c",muted:"#f6f6f6"},text:{heading:{fontFamily:"heading",lineHeight:"heading",fontWeight:"heading"}},styles:{root:{fontFamily:"body",lineHeight:"body",fontWeight:"body"},h1:{variant:"text.heading",fontSize:5},h2:{variant:"text.heading",fontSize:4},h3:{variant:"text.heading",fontSize:3},h4:{variant:"text.heading",fontSize:2},h5:{variant:"text.heading",fontSize:1},h6:{variant:"text.heading",fontSize:0},pre:{fontFamily:"monospace",overflowX:"auto",code:{color:"inherit"}},code:{fontFamily:"monospace",fontSize:"inherit"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0},th:{textAlign:"left",borderBottomStyle:"solid"},td:{textAlign:"left",borderBottomStyle:"solid"}}},index_esm=__webpack_require__(1017),client=__webpack_require__(121);Object(client.addDecorator)((function(storyFn){return react_default.a.createElement(index_esm.a,{theme:theme,children:storyFn()})})),Object(client.addParameters)({options:{storySort:function storySort(aa,bb){var prev=aa[1].kind.toLowerCase(),next=bb[1].kind.toLowerCase(),sort=["fallbacks","requesting data","the parts of enty","start here"],aIndex=sort.findIndex((function(ii){return prev.includes(ii)})),bIndex=sort.findIndex((function(ii){return next.includes(ii)}));return-1===aIndex&&-1===bIndex?prev<next?-1:prev>next?1:0:bIndex-aIndex}}})},151:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default="@@REMOVED_ENTITY@@"},152:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(353)),_createClass2=_interopRequireDefault(__webpack_require__(354)),_defineProperty2=_interopRequireDefault(__webpack_require__(62)),RequestState=function(){function RequestState(value,props){(0,_classCallCheck2.default)(this,RequestState),(0,_defineProperty2.default)(this,"val",void 0),(0,_defineProperty2.default)(this,"isEmpty",void 0),(0,_defineProperty2.default)(this,"isFetching",void 0),(0,_defineProperty2.default)(this,"isRefetching",void 0),(0,_defineProperty2.default)(this,"isSuccess",void 0),(0,_defineProperty2.default)(this,"isError",void 0),this.isEmpty=props.isEmpty,this.isFetching=props.isFetching,this.isRefetching=props.isRefetching,this.isSuccess=props.isSuccess,this.isError=props.isError,this.val=value}return(0,_createClass2.default)(RequestState,[{key:"value",value:function value(){var defaultValue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==this.val?defaultValue:this.val}},{key:"emptyFlatMap",value:function emptyFlatMap(fn){return this.isEmpty?fn(this.val):this}},{key:"emptyMap",value:function emptyMap(fn){return this.isEmpty?RequestState.empty(fn(this.val)):this}},{key:"toEmpty",value:function toEmpty(){return RequestState.empty(this.val)}},{key:"fetchingFlatMap",value:function fetchingFlatMap(fn){return this.isFetching?fn(this.val):this}},{key:"fetchingMap",value:function fetchingMap(fn){return this.isFetching?RequestState.fetching(fn(this.val)):this}},{key:"toFetching",value:function toFetching(){return RequestState.fetching(this.val)}},{key:"refetchingFlatMap",value:function refetchingFlatMap(fn){return this.isRefetching?fn(this.val):this}},{key:"refetchingMap",value:function refetchingMap(fn){return this.isRefetching?RequestState.refetching(fn(this.val)):this}},{key:"toRefetching",value:function toRefetching(){return RequestState.refetching(this.val)}},{key:"successFlatMap",value:function successFlatMap(fn){return this.isSuccess?fn(this.val):this}},{key:"successMap",value:function successMap(fn){return this.isSuccess?RequestState.success(fn(this.val)):this}},{key:"toSuccess",value:function toSuccess(){return RequestState.success(this.val)}},{key:"errorFlatMap",value:function errorFlatMap(fn){return this.isError?fn(this.val):this}},{key:"errorMap",value:function errorMap(fn){return this.isError?RequestState.error(fn(this.val)):this}},{key:"toError",value:function toError(){return RequestState.error(this.val)}}],[{key:"empty",value:function empty(value){return new RequestState(value,{isEmpty:!0})}},{key:"fetching",value:function fetching(value){return new RequestState(value,{isFetching:!0})}},{key:"refetching",value:function refetching(value){return new RequestState(value,{isRefetching:!0})}},{key:"success",value:function success(value){return new RequestState(value,{isSuccess:!0})}},{key:"error",value:function error(value){return new RequestState(value,{isError:!0})}}]),RequestState}();exports.default=RequestState},218:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(98)),_classCallCheck2=_interopRequireDefault(__webpack_require__(96)),_createClass2=_interopRequireDefault(__webpack_require__(97)),_defineProperty2=_interopRequireDefault(__webpack_require__(63)),_clone=_interopRequireDefault(__webpack_require__(366)),_get=_interopRequireDefault(__webpack_require__(217)),_delete=_interopRequireDefault(__webpack_require__(868)),_set=_interopRequireDefault(__webpack_require__(869)),_pipeWith=_interopRequireDefault(__webpack_require__(365)),_RemovedEntity=_interopRequireDefault(__webpack_require__(151));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var ObjectSchema=function(){function ObjectSchema(shape){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_classCallCheck2.default)(this,ObjectSchema),(0,_defineProperty2.default)(this,"create",void 0),(0,_defineProperty2.default)(this,"merge",void 0),(0,_defineProperty2.default)(this,"shape",void 0),this.shape=shape,this.create=options.create||function(item){return _objectSpread({},item)},this.merge=options.merge||function(previous,next){return _objectSpread({},previous,{},next)}}return(0,_createClass2.default)(ObjectSchema,[{key:"normalize",value:function normalize(data){var entities=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},shape=this.shape,dataMap=this.create(data),schemas={},result=Object.keys(shape).reduce((function(result,key){var value=(0,_get.default)(key)(dataMap),schema=(0,_get.default)(key)(shape);if(value){var _schema$normalize=schema.normalize(value,entities),childResult=_schema$normalize.result,childSchemas=_schema$normalize.schemas;Object.assign(schemas,childSchemas),result=(0,_set.default)(key,childResult)(result)}return result}),dataMap);return{entities:entities,schemas:schemas,result:result}}},{key:"denormalize",value:function denormalize(denormalizeState){var _this=this,path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],result=denormalizeState.result,entities=denormalizeState.entities,shape=this.shape;return null==result||result===_RemovedEntity.default?result:(0,_pipeWith.default)(result,(0,_clone.default)(),(function(item){if(-1!==path.indexOf(_this))return item;for(var _i=0,_keys=Object.keys(shape);_i<_keys.length;_i++){var key=_keys[_i],schema=(0,_get.default)(key)(shape),_result=(0,_get.default)(key)(item),value=schema.denormalize({result:_result,entities:entities},[].concat((0,_toConsumableArray2.default)(path),[_this]));item=value!==_RemovedEntity.default&&void 0!==value?(0,_set.default)(key,value)(item):(0,_delete.default)(key)(item)}return item}))}}]),ObjectSchema}();exports.default=ObjectSchema},345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function removeAction(type,id){return{type:"ENTY_REMOVE",payload:[type,id]}}},357:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(353)),_createClass2=_interopRequireDefault(__webpack_require__(354)),_defineProperty2=_interopRequireDefault(__webpack_require__(62)),_RequestState=_interopRequireDefault(__webpack_require__(152)),_get2=_interopRequireDefault(__webpack_require__(149)),_getIn2=_interopRequireDefault(__webpack_require__(150));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Message=function(){function Message(props){(0,_classCallCheck2.default)(this,Message),(0,_defineProperty2.default)(this,"response",void 0),(0,_defineProperty2.default)(this,"requestError",void 0),(0,_defineProperty2.default)(this,"request",void 0),(0,_defineProperty2.default)(this,"reset",void 0),(0,_defineProperty2.default)(this,"removeEntity",void 0),(0,_defineProperty2.default)(this,"responseKey",void 0),(0,_defineProperty2.default)(this,"requestState",void 0),this.responseKey=props.responseKey,this.response=props.response,this.requestState=props.requestState||_RequestState.default.empty(),this.requestError=props.requestError,this.request=props.request,this.reset=props.reset,this.removeEntity=props.removeEntity}return(0,_createClass2.default)(Message,[{key:"get",value:function get(key,notFoundValue){return(0,_get2.default)(key,notFoundValue)(this.response||{})}},{key:"getIn",value:function getIn(path,notFoundValue){return(0,_getIn2.default)(path,notFoundValue)(this.response||{})}},{key:"update",value:function update(updater){return new Message(updater(this))}},{key:"updateRequestState",value:function updateRequestState(updater){var messageProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Message(_objectSpread({},messageProps,{requestState:updater(this.requestState)}))}},{key:"toEmpty",value:function toEmpty(){return this.updateRequestState((function(_){return _.toEmpty()}),_objectSpread({},this))}},{key:"toFetching",value:function toFetching(){return this.updateRequestState((function(_){return _.toFetching()}),_objectSpread({},this))}},{key:"toRefetching",value:function toRefetching(){return this.updateRequestState((function(_){return _.toRefetching()}),_objectSpread({},this))}},{key:"toSuccess",value:function toSuccess(){return this.updateRequestState((function(_){return _.toSuccess()}),_objectSpread({},this))}},{key:"toError",value:function toError(){return this.updateRequestState((function(_){return _.toError()}),_objectSpread({},this))}}],[{key:"empty",value:function empty(messageProps){return new Message(_objectSpread({},messageProps,{response:void 0,requestError:void 0,requestState:_RequestState.default.empty()}))}},{key:"fetching",value:function fetching(){var messageProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Message(_objectSpread({},messageProps,{response:void 0,requestState:_RequestState.default.fetching()}))}},{key:"refetching",value:function refetching(){var messageProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Message(_objectSpread({},messageProps,{requestState:_RequestState.default.refetching()}))}},{key:"success",value:function success(){var messageProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Message(_objectSpread({},messageProps,{requestState:_RequestState.default.success()}))}},{key:"error",value:function error(){var messageProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Message(_objectSpread({},messageProps,{requestState:_RequestState.default.error()}))}}]),Message}();exports.default=Message},358:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function LoadingBoundary(props){var children=props.children,message=props.message,_props$fallbackOnRefe=props.fallbackOnRefetch,fallbackOnRefetch=void 0!==_props$fallbackOnRefe&&_props$fallbackOnRefe,_props$fallback=props.fallback,Fallback=void 0===_props$fallback?NullRender:_props$fallback,_props$empty=props.empty,Empty=void 0===_props$empty?NullRender:_props$empty,_props$error=props.error,Error=void 0===_props$error?NullRender:_props$error,fallbackState=function fallbackState(){return _react.default.createElement(Fallback,null)},renderState=function renderState(){return children(message.response,{refetching:!0===message.requestState.isRefetching})};return message.requestState.emptyMap((function emptyState(){return _react.default.createElement(Empty,null)})).fetchingMap(fallbackState).refetchingMap(fallbackOnRefetch?fallbackState:renderState).successMap(renderState).errorMap((function errorState(){return _react.default.createElement(Error,{error:message.requestError})})).value()};var _react=_interopRequireDefault(__webpack_require__(0)),NullRender=function NullRender(){return null}},359:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(96)),_createClass2=_interopRequireDefault(__webpack_require__(97)),_defineProperty2=_interopRequireDefault(__webpack_require__(63)),_RemovedEntity=_interopRequireDefault(__webpack_require__(151)),ArraySchema=function(){function ArraySchema(shape){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_classCallCheck2.default)(this,ArraySchema),(0,_defineProperty2.default)(this,"shape",void 0),(0,_defineProperty2.default)(this,"create",void 0),(0,_defineProperty2.default)(this,"merge",void 0),this.shape=shape,this.merge=options.merge||function(aa,bb){return bb},this.create=options.create||function(aa){return aa}}return(0,_createClass2.default)(ArraySchema,[{key:"normalize",value:function normalize(data){var _this=this,entities=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},schemas={},result=this.create(data).map((function(item){var _this$shape$normalize=_this.shape.normalize(item,entities),result=_this$shape$normalize.result,childSchemas=_this$shape$normalize.schemas;return Object.assign(schemas,childSchemas),result}));return{entities:entities,schemas:schemas,result:result}}},{key:"denormalize",value:function denormalize(denormalizeState){var _this2=this,path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],result=denormalizeState.result,entities=denormalizeState.entities;return null==result?result:result.map((function(item){return _this2.shape.denormalize({result:item,entities:entities},path)})).filter((function(ii){return ii!==_RemovedEntity.default}))}}]),ArraySchema}();exports.default=ArraySchema},367:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompositeKeysMustBeEntitiesError=function CompositeKeysMustBeEntitiesError(name,type){return new Error("CompositeSchema compositeKeys must be an 'entity' type schema. ".concat(name," was of type: '").concat(type,"'"))},exports.UndefinedIdError=function UndefinedIdError(name,value){return new Error("".concat(name,".id() returned ").concat(String(value),". Entities need some sort of id so they can be stored and retrieved. You should check the schema to see what is going on."))}},368:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(96)),_createClass2=_interopRequireDefault(__webpack_require__(97)),_defineProperty2=_interopRequireDefault(__webpack_require__(63)),_Error=__webpack_require__(367),_getIn=_interopRequireDefault(__webpack_require__(866)),_get=_interopRequireDefault(__webpack_require__(217)),_RemovedEntity=_interopRequireDefault(__webpack_require__(151)),_ObjectSchema=_interopRequireDefault(__webpack_require__(218)),_constructSchemaFromLiteral=_interopRequireDefault(__webpack_require__(870)),EntitySchema=function(){function EntitySchema(name){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_classCallCheck2.default)(this,EntitySchema),(0,_defineProperty2.default)(this,"name",void 0),(0,_defineProperty2.default)(this,"_shape",void 0),(0,_defineProperty2.default)(this,"id",void 0),(0,_defineProperty2.default)(this,"merge",void 0),this.name=name,this.merge=options.merge,null===options.shape?(this.shape=null,this.id=options.id||function(data){return""+data}):(this.shape=options.shape||new _ObjectSchema.default({}),this.id=options.id||(0,_get.default)("id"))}return(0,_createClass2.default)(EntitySchema,[{key:"normalize",value:function normalize(data){var previousEntity,result,entities=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},shape=this.shape,name=this.name,id=this.id(data),schemas={};if(null==id)throw(0,_Error.UndefinedIdError)(name,id);if(id=id.toString(),entities[name]=entities[name]||{},null==shape)result=data;else{var _=shape.normalize(data,entities);result=_.result,schemas=_.schemas,previousEntity=entities[name][id]}return schemas[name]=this,entities[name][id]=previousEntity?(this.merge||shape.merge)(previousEntity,result):result,{entities:entities,schemas:schemas,result:id}}},{key:"denormalize",value:function denormalize(denormalizeState){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],result=denormalizeState.result,entities=denormalizeState.entities,shape=this.shape,name=this.name,entity=(0,_getIn.default)([name,result])(entities);return null==entity||entity===_RemovedEntity.default||null==shape?entity:shape.denormalize({result:entity,entities:entities},path)}},{key:"shape",get:function get(){return this._shape},set:function set(shape){this._shape=(0,_constructSchemaFromLiteral.default)(shape)}}]),EntitySchema}();exports.default=EntitySchema},397:function(module,exports,__webpack_require__){__webpack_require__(398),__webpack_require__(544),__webpack_require__(1015),module.exports=__webpack_require__(750)},462:function(module,exports){},6:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"EntityApi",{enumerable:!0,get:function get(){return _EntityApi.default}}),Object.defineProperty(exports,"LoadingBoundary",{enumerable:!0,get:function get(){return _LoadingBoundary.default}}),Object.defineProperty(exports,"LoadingBoundaryHoc",{enumerable:!0,get:function get(){return _LoadingBoundaryHoc.default}}),Object.defineProperty(exports,"RequestState",{enumerable:!0,get:function get(){return _RequestState.default}}),Object.defineProperty(exports,"Message",{enumerable:!0,get:function get(){return _Message.default}}),Object.defineProperty(exports,"useAutoRequest",{enumerable:!0,get:function get(){return _useAutoRequest.default}}),Object.defineProperty(exports,"ArraySchema",{enumerable:!0,get:function get(){return _ArraySchema.default}}),Object.defineProperty(exports,"CompositeEntitySchema",{enumerable:!0,get:function get(){return _CompositeEntitySchema.default}}),Object.defineProperty(exports,"DynamicSchema",{enumerable:!0,get:function get(){return _DynamicSchema.default}}),Object.defineProperty(exports,"EntitySchema",{enumerable:!0,get:function get(){return _EntitySchema.default}}),Object.defineProperty(exports,"IdSchema",{enumerable:!0,get:function get(){return _IdSchema.default}}),Object.defineProperty(exports,"ObjectSchema",{enumerable:!0,get:function get(){return _ObjectSchema.default}});var _EntityApi=_interopRequireDefault(__webpack_require__(786)),_LoadingBoundary=_interopRequireDefault(__webpack_require__(358)),_LoadingBoundaryHoc=_interopRequireDefault(__webpack_require__(843)),_RequestState=_interopRequireDefault(__webpack_require__(152)),_Message=_interopRequireDefault(__webpack_require__(357)),_useAutoRequest=_interopRequireDefault(__webpack_require__(845)),_ArraySchema=_interopRequireDefault(__webpack_require__(359)),_CompositeEntitySchema=_interopRequireDefault(__webpack_require__(846)),_DynamicSchema=_interopRequireDefault(__webpack_require__(872)),_EntitySchema=_interopRequireDefault(__webpack_require__(368)),_IdSchema=_interopRequireDefault(__webpack_require__(873)),_ObjectSchema=_interopRequireDefault(__webpack_require__(218))},750:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(121);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(752)],module)}.call(this,__webpack_require__(751)(module))},752:function(module,exports,__webpack_require__){var map={"./advanced/deleting-entities.stories.js":753,"./advanced/list-manipulation.stories.js":758,"./advanced/observables.stories.js":759,"./advanced/optimistic-updates.stories.js":760,"./advanced/polling.stories.js":761,"./advanced/service-based-api.stories.js":762,"./advanced/tainted-entities.stories.js":763,"./advanced/websockets.stories.js":764,"./api/entity-api.stories.js":765,"./api/schemas.stories.js":766,"./basics/caching.stories.js":767,"./basics/crud.stories.js":768,"./basics/custom-data-classes.stories.js":769,"./basics/fallbacks.stories.js":874,"./basics/normalizing-examples.stories.js":875,"./basics/requesting-data.stories.js":876,"./start-here.stories.js":877};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=752},753:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Once",(function(){return Once})),__webpack_require__.d(__webpack_exports__,"BasedOnId",(function(){return BasedOnId})),__webpack_require__.d(__webpack_exports__,"Callbacks",(function(){return Callbacks}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/advanced",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Deleting Entities'};\n\nexport const Once = () => <div>Todo</div>\nexport const BasedOnId = () => <div>Todo</div>\nexport const Callbacks = () => <div>Todo</div>\n\n",__ADDS_MAP__={"2-advanced-todo-deleting-entities--once":{startLoc:{col:20,line:6},endLoc:{col:41,line:6},startBody:{col:20,line:6},endBody:{col:41,line:6}},"2-advanced-todo-deleting-entities--based-on-id":{startLoc:{col:25,line:7},endLoc:{col:46,line:7},startBody:{col:25,line:7},endBody:{col:46,line:7}},"2-advanced-todo-deleting-entities--callbacks":{startLoc:{col:25,line:8},endLoc:{col:46,line:8},startBody:{col:25,line:8},endBody:{col:46,line:8}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Deleting Entities'};\n\nexport const Once = () => <div>Todo</div>\nexport const BasedOnId = () => <div>Todo</div>\nexport const Callbacks = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-deleting-entities--once":{startLoc:{col:20,line:6},endLoc:{col:41,line:6},startBody:{col:20,line:6},endBody:{col:41,line:6}},"2-advanced-todo-deleting-entities--based-on-id":{startLoc:{col:25,line:7},endLoc:{col:46,line:7},startBody:{col:25,line:7},endBody:{col:46,line:7}},"2-advanced-todo-deleting-entities--callbacks":{startLoc:{col:25,line:8},endLoc:{col:46,line:8},startBody:{col:25,line:8},endBody:{col:46,line:8}}}}},title:"2 Advanced | TODO Deleting Entities"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Once=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/deleting-entities.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),BasedOnId=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/deleting-entities.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Callbacks=addSourceDecorator((function(){return _ref3}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/deleting-entities.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},758:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Once",(function(){return Once})),__webpack_require__.d(__webpack_exports__,"BasedOnId",(function(){return BasedOnId})),__webpack_require__.d(__webpack_exports__,"Callbacks",(function(){return Callbacks}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/advanced",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO List Manipulation'};\n\nexport const Once = () => <div>Todo</div>\nexport const BasedOnId = () => <div>Todo</div>\nexport const Callbacks = () => <div>Todo</div>\n\n",__ADDS_MAP__={"2-advanced-todo-list-manipulation--once":{startLoc:{col:20,line:6},endLoc:{col:41,line:6},startBody:{col:20,line:6},endBody:{col:41,line:6}},"2-advanced-todo-list-manipulation--based-on-id":{startLoc:{col:25,line:7},endLoc:{col:46,line:7},startBody:{col:25,line:7},endBody:{col:46,line:7}},"2-advanced-todo-list-manipulation--callbacks":{startLoc:{col:25,line:8},endLoc:{col:46,line:8},startBody:{col:25,line:8},endBody:{col:46,line:8}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO List Manipulation'};\n\nexport const Once = () => <div>Todo</div>\nexport const BasedOnId = () => <div>Todo</div>\nexport const Callbacks = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-list-manipulation--once":{startLoc:{col:20,line:6},endLoc:{col:41,line:6},startBody:{col:20,line:6},endBody:{col:41,line:6}},"2-advanced-todo-list-manipulation--based-on-id":{startLoc:{col:25,line:7},endLoc:{col:46,line:7},startBody:{col:25,line:7},endBody:{col:46,line:7}},"2-advanced-todo-list-manipulation--callbacks":{startLoc:{col:25,line:8},endLoc:{col:46,line:8},startBody:{col:25,line:8},endBody:{col:46,line:8}}}}},title:"2 Advanced | TODO List Manipulation"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Once=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/list-manipulation.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),BasedOnId=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/list-manipulation.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Callbacks=addSourceDecorator((function(){return _ref3}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/list-manipulation.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},759:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Observables",(function(){return Observables}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Observables'};\n\nexport const Observables = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-observables--observables":{startLoc:{col:27,line:6},endLoc:{col:48,line:6},startBody:{col:27,line:6},endBody:{col:48,line:6}}}}},title:"2 Advanced | TODO Observables"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Observables=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Observables'};\n\nexport const Observables = () => <div>Todo</div>\n\n",__ADDS_MAP__:{"2-advanced-todo-observables--observables":{startLoc:{col:27,line:6},endLoc:{col:48,line:6},startBody:{col:27,line:6},endBody:{col:48,line:6}}},__MAIN_FILE_LOCATION__:"/observables.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/allanhortle/code/enty/packages/docs/docs/advanced",__IDS_TO_FRAMEWORKS__:{}})},760:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Saving",(function(){return Saving})),__webpack_require__.d(__webpack_exports__,"Deleting",(function(){return Deleting})),__webpack_require__.d(__webpack_exports__,"ResetOnError",(function(){return ResetOnError}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/advanced",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Optimistic Updates'};\n\nexport const Saving = () => <div>Todo</div>\nexport const Deleting = () => <div>Todo</div>\nexport const ResetOnError = () => <div>Todo</div>\n\n",__ADDS_MAP__={"2-advanced-todo-optimistic-updates--saving":{startLoc:{col:22,line:6},endLoc:{col:43,line:6},startBody:{col:22,line:6},endBody:{col:43,line:6}},"2-advanced-todo-optimistic-updates--deleting":{startLoc:{col:24,line:7},endLoc:{col:45,line:7},startBody:{col:24,line:7},endBody:{col:45,line:7}},"2-advanced-todo-optimistic-updates--reset-on-error":{startLoc:{col:28,line:8},endLoc:{col:49,line:8},startBody:{col:28,line:8},endBody:{col:49,line:8}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Optimistic Updates'};\n\nexport const Saving = () => <div>Todo</div>\nexport const Deleting = () => <div>Todo</div>\nexport const ResetOnError = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-optimistic-updates--saving":{startLoc:{col:22,line:6},endLoc:{col:43,line:6},startBody:{col:22,line:6},endBody:{col:43,line:6}},"2-advanced-todo-optimistic-updates--deleting":{startLoc:{col:24,line:7},endLoc:{col:45,line:7},startBody:{col:24,line:7},endBody:{col:45,line:7}},"2-advanced-todo-optimistic-updates--reset-on-error":{startLoc:{col:28,line:8},endLoc:{col:49,line:8},startBody:{col:28,line:8},endBody:{col:49,line:8}}}}},title:"2 Advanced | TODO Optimistic Updates"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Saving=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/optimistic-updates.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Deleting=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/optimistic-updates.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),ResetOnError=addSourceDecorator((function(){return _ref3}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/optimistic-updates.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},761:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Generators",(function(){return Generators}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Polling'};\n\nexport const Generators = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-polling--generators":{startLoc:{col:26,line:6},endLoc:{col:47,line:6},startBody:{col:26,line:6},endBody:{col:47,line:6}}}}},title:"2 Advanced | TODO Polling"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Generators=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Polling'};\n\nexport const Generators = () => <div>Todo</div>\n\n",__ADDS_MAP__:{"2-advanced-todo-polling--generators":{startLoc:{col:26,line:6},endLoc:{col:47,line:6},startBody:{col:26,line:6},endBody:{col:47,line:6}}},__MAIN_FILE_LOCATION__:"/polling.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/allanhortle/code/enty/packages/docs/docs/advanced",__IDS_TO_FRAMEWORKS__:{}})},762:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Splitting",(function(){return Splitting}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Service Based APIs'};\n\nexport const Splitting = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-service-based-apis--splitting":{startLoc:{col:25,line:6},endLoc:{col:46,line:6},startBody:{col:25,line:6},endBody:{col:46,line:6}}}}},title:"2 Advanced | TODO Service Based APIs"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Splitting=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Service Based APIs'};\n\nexport const Splitting = () => <div>Todo</div>\n\n",__ADDS_MAP__:{"2-advanced-todo-service-based-apis--splitting":{startLoc:{col:25,line:6},endLoc:{col:46,line:6},startBody:{col:25,line:6},endBody:{col:46,line:6}}},__MAIN_FILE_LOCATION__:"/service-based-api.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/allanhortle/code/enty/packages/docs/docs/advanced",__IDS_TO_FRAMEWORKS__:{}})},763:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ThingsThatShouldHaveIds",(function(){return ThingsThatShouldHaveIds})),__webpack_require__.d(__webpack_exports__,"CombiningEntities",(function(){return CombiningEntities}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/advanced",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Tainted Entities'};\n\nexport const ThingsThatShouldHaveIds = () => <div>Todo</div>\nexport const CombiningEntities = () => <div>Todo</div>\n\n",__ADDS_MAP__={"2-advanced-todo-tainted-entities--things-that-should-have-ids":{startLoc:{col:39,line:6},endLoc:{col:60,line:6},startBody:{col:39,line:6},endBody:{col:60,line:6}},"2-advanced-todo-tainted-entities--combining-entities":{startLoc:{col:33,line:7},endLoc:{col:54,line:7},startBody:{col:33,line:7},endBody:{col:54,line:7}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Tainted Entities'};\n\nexport const ThingsThatShouldHaveIds = () => <div>Todo</div>\nexport const CombiningEntities = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-tainted-entities--things-that-should-have-ids":{startLoc:{col:39,line:6},endLoc:{col:60,line:6},startBody:{col:39,line:6},endBody:{col:60,line:6}},"2-advanced-todo-tainted-entities--combining-entities":{startLoc:{col:33,line:7},endLoc:{col:54,line:7},startBody:{col:33,line:7},endBody:{col:54,line:7}}}}},title:"2 Advanced | TODO Tainted Entities"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),ThingsThatShouldHaveIds=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/tainted-entities.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),CombiningEntities=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/tainted-entities.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},764:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Generator",(function(){return Generator}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Websockets'};\n\nexport const Generator = () => <div>Todo</div>\n\n",locationsMap:{"2-advanced-todo-websockets--generator":{startLoc:{col:25,line:6},endLoc:{col:46,line:6},startBody:{col:25,line:6},endBody:{col:46,line:6}}}}},title:"2 Advanced | TODO Websockets"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Generator=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '2 Advanced | TODO Websockets'};\n\nexport const Generator = () => <div>Todo</div>\n\n",__ADDS_MAP__:{"2-advanced-todo-websockets--generator":{startLoc:{col:25,line:6},endLoc:{col:46,line:6},startBody:{col:25,line:6},endBody:{col:46,line:6}}},__MAIN_FILE_LOCATION__:"/websockets.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/allanhortle/code/enty/packages/docs/docs/advanced",__IDS_TO_FRAMEWORKS__:{}})},765:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EntityApi",(function(){return EntityApi}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '3 API | TODO EntityApi'};\n\nexport const EntityApi = () => <div>Todo</div>\n\n",locationsMap:{"3-api-todo-entityapi--entity-api":{startLoc:{col:25,line:6},endLoc:{col:46,line:6},startBody:{col:25,line:6},endBody:{col:46,line:6}}}}},title:"3 API | TODO EntityApi"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),EntityApi=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '3 API | TODO EntityApi'};\n\nexport const EntityApi = () => <div>Todo</div>\n\n",__ADDS_MAP__:{"3-api-todo-entityapi--entity-api":{startLoc:{col:25,line:6},endLoc:{col:46,line:6},startBody:{col:25,line:6},endBody:{col:46,line:6}}},__MAIN_FILE_LOCATION__:"/entity-api.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/allanhortle/code/enty/packages/docs/docs/api",__IDS_TO_FRAMEWORKS__:{}})},766:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EntitySchema",(function(){return EntitySchema})),__webpack_require__.d(__webpack_exports__,"ObjectSchema",(function(){return ObjectSchema})),__webpack_require__.d(__webpack_exports__,"ArraySchema",(function(){return ArraySchema})),__webpack_require__.d(__webpack_exports__,"IdSchema",(function(){return IdSchema})),__webpack_require__.d(__webpack_exports__,"DynamicSchema",(function(){return DynamicSchema})),__webpack_require__.d(__webpack_exports__,"CompositeEntitySchema",(function(){return CompositeEntitySchema}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/api",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '3 API | TODO Schemas'};\n\nexport const EntitySchema = () => <div>Todo</div>\nexport const ObjectSchema = () => <div>Todo</div>\nexport const ArraySchema = () => <div>Todo</div>\nexport const IdSchema = () => <div>Todo</div>\nexport const DynamicSchema = () => <div>Todo</div>\nexport const CompositeEntitySchema = () => <div>Todo</div>\n\n",__ADDS_MAP__={"3-api-todo-schemas--entity-schema":{startLoc:{col:28,line:6},endLoc:{col:49,line:6},startBody:{col:28,line:6},endBody:{col:49,line:6}},"3-api-todo-schemas--object-schema":{startLoc:{col:28,line:7},endLoc:{col:49,line:7},startBody:{col:28,line:7},endBody:{col:49,line:7}},"3-api-todo-schemas--array-schema":{startLoc:{col:27,line:8},endLoc:{col:48,line:8},startBody:{col:27,line:8},endBody:{col:48,line:8}},"3-api-todo-schemas--id-schema":{startLoc:{col:24,line:9},endLoc:{col:45,line:9},startBody:{col:24,line:9},endBody:{col:45,line:9}},"3-api-todo-schemas--dynamic-schema":{startLoc:{col:29,line:10},endLoc:{col:50,line:10},startBody:{col:29,line:10},endBody:{col:50,line:10}},"3-api-todo-schemas--composite-entity-schema":{startLoc:{col:37,line:11},endLoc:{col:58,line:11},startBody:{col:37,line:11},endBody:{col:58,line:11}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '3 API | TODO Schemas'};\n\nexport const EntitySchema = () => <div>Todo</div>\nexport const ObjectSchema = () => <div>Todo</div>\nexport const ArraySchema = () => <div>Todo</div>\nexport const IdSchema = () => <div>Todo</div>\nexport const DynamicSchema = () => <div>Todo</div>\nexport const CompositeEntitySchema = () => <div>Todo</div>\n\n",locationsMap:{"3-api-todo-schemas--entity-schema":{startLoc:{col:28,line:6},endLoc:{col:49,line:6},startBody:{col:28,line:6},endBody:{col:49,line:6}},"3-api-todo-schemas--object-schema":{startLoc:{col:28,line:7},endLoc:{col:49,line:7},startBody:{col:28,line:7},endBody:{col:49,line:7}},"3-api-todo-schemas--array-schema":{startLoc:{col:27,line:8},endLoc:{col:48,line:8},startBody:{col:27,line:8},endBody:{col:48,line:8}},"3-api-todo-schemas--id-schema":{startLoc:{col:24,line:9},endLoc:{col:45,line:9},startBody:{col:24,line:9},endBody:{col:45,line:9}},"3-api-todo-schemas--dynamic-schema":{startLoc:{col:29,line:10},endLoc:{col:50,line:10},startBody:{col:29,line:10},endBody:{col:50,line:10}},"3-api-todo-schemas--composite-entity-schema":{startLoc:{col:37,line:11},endLoc:{col:58,line:11},startBody:{col:37,line:11},endBody:{col:58,line:11}}}}},title:"3 API | TODO Schemas"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),EntitySchema=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/schemas.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),ObjectSchema=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/schemas.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),ArraySchema=addSourceDecorator((function(){return _ref3}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/schemas.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),IdSchema=addSourceDecorator((function(){return _ref4}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/schemas.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref5=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),DynamicSchema=addSourceDecorator((function(){return _ref5}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/schemas.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref6=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),CompositeEntitySchema=addSourceDecorator((function(){return _ref6}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/schemas.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},767:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TTL",(function(){return TTL})),__webpack_require__.d(__webpack_exports__,"PrefetchedRequests",(function(){return PrefetchedRequests}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/basics",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | TODO Caching'};\n\nexport const TTL = () => <div>Todo</div>\nexport const PrefetchedRequests = () => <div>Todo</div>\n\n",__ADDS_MAP__={"1-basics-todo-caching--ttl":{startLoc:{col:19,line:6},endLoc:{col:40,line:6},startBody:{col:19,line:6},endBody:{col:40,line:6}},"1-basics-todo-caching--prefetched-requests":{startLoc:{col:34,line:7},endLoc:{col:55,line:7},startBody:{col:34,line:7},endBody:{col:55,line:7}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | TODO Caching'};\n\nexport const TTL = () => <div>Todo</div>\nexport const PrefetchedRequests = () => <div>Todo</div>\n\n",locationsMap:{"1-basics-todo-caching--ttl":{startLoc:{col:19,line:6},endLoc:{col:40,line:6},startBody:{col:19,line:6},endBody:{col:40,line:6}},"1-basics-todo-caching--prefetched-requests":{startLoc:{col:34,line:7},endLoc:{col:55,line:7},startBody:{col:34,line:7},endBody:{col:55,line:7}}}}},title:"1 Basics | TODO Caching"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),TTL=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/caching.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),PrefetchedRequests=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/caching.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},768:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CRUD",(function(){return CRUD}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | TODO CRUD'};\n\nexport const CRUD = () => <div>Todo</div>\n\n",locationsMap:{"1-basics-todo-crud--crud":{startLoc:{col:20,line:6},endLoc:{col:41,line:6},startBody:{col:20,line:6},endBody:{col:41,line:6}}}}},title:"1 Basics | TODO CRUD"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),CRUD=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | TODO CRUD'};\n\nexport const CRUD = () => <div>Todo</div>\n\n",__ADDS_MAP__:{"1-basics-todo-crud--crud":{startLoc:{col:20,line:6},endLoc:{col:41,line:6},startBody:{col:20,line:6},endBody:{col:41,line:6}}},__MAIN_FILE_LOCATION__:"/crud.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/allanhortle/code/enty/packages/docs/docs/basics",__IDS_TO_FRAMEWORKS__:{}})},769:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Create",(function(){return Create})),__webpack_require__.d(__webpack_exports__,"Merge",(function(){return Merge}));__webpack_require__(24),__webpack_require__(32),__webpack_require__(33),__webpack_require__(31),__webpack_require__(72),__webpack_require__(51),__webpack_require__(29),__webpack_require__(73),__webpack_require__(136),__webpack_require__(52),__webpack_require__(81),__webpack_require__(23),__webpack_require__(79),__webpack_require__(53),__webpack_require__(34),__webpack_require__(35),__webpack_require__(88);var theme_ui__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2),axios__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(75),react_enty__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_20__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__(4).withSource;var addSourceDecorator=__webpack_require__(4).addSource,__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/basics",__STORY__="// Storybook setup\nimport {Button, Spinner, Input, Box, Text, Message, Flex} from 'theme-ui';\nimport {get} from 'axios';\nimport {EntityApi, LoadingBoundary, EntitySchema, ObjectSchema, ArraySchema}  from 'react-enty';\nimport React, {useEffect, useState} from 'react';\nexport default {title: '1 Basics | Custom Data Classes', component: Button};\n\n\nexport const Create = () => {\n\n    // Define a person model with some extra data\n    class Human {\n        constructor(data) {\n            this.name = data.name;\n            this.mass = data.mass + 'kg';\n        }\n    }\n\n    // Define a person schema whose shape is an object that\n    // describes our Human model\n    const person = new EntitySchema('person', {\n        id: data => data.name,\n        shape: new ObjectSchema({}, {\n            create: data => new Human(data)\n        })\n    });\n    // Our main schema is an array of people\n    const MainSchema = new ArraySchema(person);\n\n    // Setup the api. Enty can be of any shape. This one is a contrived example so\n    // it is one method that returns an array.\n    const Api = EntityApi({\n        people: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n            return data.results;\n        }\n    }, MainSchema)\n\n    // Define a component that fetches and renders our Human models\n    const PeopleList = () => {\n        const peopleMessage = Api.people.useRequest();\n\n        useEffect(() => {\n            peopleMessage.request({page: 1});\n        }, []);\n\n        return <Box padding=\"3\">\n            <Message marginBottom=\"3\">\n                <Text>This example will use the ObjectSchema's create method to add custom properties as each person is normalized</Text>\n            </Message>\n            <LoadingBoundary message={peopleMessage} fallback={Spinner}>\n                {(people) => <ul>\n                    {people.map(({name, mass}) => <li key={name}>{name} weighs {mass}</li>)}\n                </ul>}\n            </LoadingBoundary>\n        </Box>\n    }\n\n    // Make sure to wrap the component in a provider\n    return <Api.Provider debug=\"create\">\n        <PeopleList />\n    </Api.Provider>;\n\n};\n\n\nexport const Merge = () => {\n\n    // Create a person\n    const person = new EntitySchema('people', {id: ii => ii.name});\n\n    // Create an Entity:\n    // 1. Who's shape is an array.\n    // 2. Has a fixed id\n    // 3. Defines a merge function to concat new entities\n    const appendOnlyList = new EntitySchema('people', {\n        id: () => 'peopleList',\n        shape: new ArraySchema(person, {\n            merge: (aa, bb) => aa.concat(bb)\n        })\n    });\n\n    // Setup the api.\n    const Api = EntityApi({\n        people: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n            return data.results;\n        }\n    }, appendOnlyList)\n\n    // Define a component that fetches and renders our Human models\n    // and has a button to keep fetching more to append\n    const PeopleList = () => {\n        const [page, setPage] = useState(1);\n        const peopleMessage = Api.people.useRequest({key: 'peopleList'});\n\n        useEffect(() => {\n            fetchMorePeople();\n        }, []);\n\n        const fetchMorePeople = () => {\n            peopleMessage.request({page});\n            setPage(page + 1);\n        };\n\n        const {isFetching, isRefetching} = peopleMessage.requestState;\n        const buttonText = isFetching || isRefetching ? 'Fetching...' : 'Fetch more people';\n\n        return <Box padding=\"3\">\n            <Message marginBottom=\"3\">\n                <Text>We can use ArraySchema's merge function to append to a list on each request</Text>\n            </Message>\n            <Button onClick={fetchMorePeople}>{buttonText}</Button>\n            <ul>{(peopleMessage.response || []).map(({name}) => <li key={name}>{name}</li>)}</ul>\n        </Box>\n    }\n\n    // Make sure to wrap the component in a provider\n    return <Api.Provider debug=\"create\">\n        <PeopleList />\n    </Api.Provider>;\n\n};\n\n",__ADDS_MAP__={"1-basics-custom-data-classes--create":{startLoc:{col:22,line:9},endLoc:{col:1,line:64},startBody:{col:22,line:9},endBody:{col:1,line:64}},"1-basics-custom-data-classes--merge":{startLoc:{col:21,line:67},endLoc:{col:1,line:123},startBody:{col:21,line:67},endBody:{col:1,line:123}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"// Storybook setup\nimport {Button, Spinner, Input, Box, Text, Message, Flex} from 'theme-ui';\nimport {get} from 'axios';\nimport {EntityApi, LoadingBoundary, EntitySchema, ObjectSchema, ArraySchema}  from 'react-enty';\nimport React, {useEffect, useState} from 'react';\nexport default {title: '1 Basics | Custom Data Classes', component: Button};\n\n\nexport const Create = () => {\n\n    // Define a person model with some extra data\n    class Human {\n        constructor(data) {\n            this.name = data.name;\n            this.mass = data.mass + 'kg';\n        }\n    }\n\n    // Define a person schema whose shape is an object that\n    // describes our Human model\n    const person = new EntitySchema('person', {\n        id: data => data.name,\n        shape: new ObjectSchema({}, {\n            create: data => new Human(data)\n        })\n    });\n    // Our main schema is an array of people\n    const MainSchema = new ArraySchema(person);\n\n    // Setup the api. Enty can be of any shape. This one is a contrived example so\n    // it is one method that returns an array.\n    const Api = EntityApi({\n        people: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n            return data.results;\n        }\n    }, MainSchema)\n\n    // Define a component that fetches and renders our Human models\n    const PeopleList = () => {\n        const peopleMessage = Api.people.useRequest();\n\n        useEffect(() => {\n            peopleMessage.request({page: 1});\n        }, []);\n\n        return <Box padding=\"3\">\n            <Message marginBottom=\"3\">\n                <Text>This example will use the ObjectSchema's create method to add custom properties as each person is normalized</Text>\n            </Message>\n            <LoadingBoundary message={peopleMessage} fallback={Spinner}>\n                {(people) => <ul>\n                    {people.map(({name, mass}) => <li key={name}>{name} weighs {mass}</li>)}\n                </ul>}\n            </LoadingBoundary>\n        </Box>\n    }\n\n    // Make sure to wrap the component in a provider\n    return <Api.Provider debug=\"create\">\n        <PeopleList />\n    </Api.Provider>;\n\n};\n\n\nexport const Merge = () => {\n\n    // Create a person\n    const person = new EntitySchema('people', {id: ii => ii.name});\n\n    // Create an Entity:\n    // 1. Who's shape is an array.\n    // 2. Has a fixed id\n    // 3. Defines a merge function to concat new entities\n    const appendOnlyList = new EntitySchema('people', {\n        id: () => 'peopleList',\n        shape: new ArraySchema(person, {\n            merge: (aa, bb) => aa.concat(bb)\n        })\n    });\n\n    // Setup the api.\n    const Api = EntityApi({\n        people: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n            return data.results;\n        }\n    }, appendOnlyList)\n\n    // Define a component that fetches and renders our Human models\n    // and has a button to keep fetching more to append\n    const PeopleList = () => {\n        const [page, setPage] = useState(1);\n        const peopleMessage = Api.people.useRequest({key: 'peopleList'});\n\n        useEffect(() => {\n            fetchMorePeople();\n        }, []);\n\n        const fetchMorePeople = () => {\n            peopleMessage.request({page});\n            setPage(page + 1);\n        };\n\n        const {isFetching, isRefetching} = peopleMessage.requestState;\n        const buttonText = isFetching || isRefetching ? 'Fetching...' : 'Fetch more people';\n\n        return <Box padding=\"3\">\n            <Message marginBottom=\"3\">\n                <Text>We can use ArraySchema's merge function to append to a list on each request</Text>\n            </Message>\n            <Button onClick={fetchMorePeople}>{buttonText}</Button>\n            <ul>{(peopleMessage.response || []).map(({name}) => <li key={name}>{name}</li>)}</ul>\n        </Box>\n    }\n\n    // Make sure to wrap the component in a provider\n    return <Api.Provider debug=\"create\">\n        <PeopleList />\n    </Api.Provider>;\n\n};\n\n",locationsMap:{"1-basics-custom-data-classes--create":{startLoc:{col:22,line:9},endLoc:{col:1,line:64},startBody:{col:22,line:9},endBody:{col:1,line:64}},"1-basics-custom-data-classes--merge":{startLoc:{col:21,line:67},endLoc:{col:1,line:123},startBody:{col:21,line:67},endBody:{col:1,line:123}}}}},title:"1 Basics | Custom Data Classes",component:theme_ui__WEBPACK_IMPORTED_MODULE_17__.b};var _ref=react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.d,{marginBottom:"3"},react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.f,null,"This example will use the ObjectSchema's create method to add custom properties as each person is normalized")),Create=addSourceDecorator((function(){var _people,Human=function Human(data){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Human),this.name=data.name,this.mass=data.mass+"kg"},person=new react_enty__WEBPACK_IMPORTED_MODULE_19__.EntitySchema("person",{id:function id(data){return data.name},shape:new react_enty__WEBPACK_IMPORTED_MODULE_19__.ObjectSchema({},{create:function create(data){return new Human(data)}})}),MainSchema=new react_enty__WEBPACK_IMPORTED_MODULE_19__.ArraySchema(person),Api=Object(react_enty__WEBPACK_IMPORTED_MODULE_19__.EntityApi)({people:(_people=_asyncToGenerator(regeneratorRuntime.mark((function _callee(payload){var _yield$get,data;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(axios__WEBPACK_IMPORTED_MODULE_18__.get)("https://swapi.dev/api/people/?page=".concat(payload.page));case 2:return _yield$get=_context.sent,data=_yield$get.data,_context.abrupt("return",data.results);case 5:case"end":return _context.stop()}}),_callee)}))),function people(){return _people.apply(this,arguments)})},MainSchema);return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(Api.Provider,{debug:"create"},react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement((function PeopleList(){var peopleMessage=Api.people.useRequest();return Object(react__WEBPACK_IMPORTED_MODULE_20__.useEffect)((function(){peopleMessage.request({page:1})}),[]),react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.a,{padding:"3"},_ref,react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_19__.LoadingBoundary,{message:peopleMessage,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_17__.e},(function(people){return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement("ul",null,people.map((function(_ref2){var name=_ref2.name,mass=_ref2.mass;return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement("li",{key:name},name," weighs ",mass)})))})))}),null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/custom-data-classes.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref3=react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.d,{marginBottom:"3"},react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.f,null,"We can use ArraySchema's merge function to append to a list on each request")),Merge=addSourceDecorator((function(){var _people2,person=new react_enty__WEBPACK_IMPORTED_MODULE_19__.EntitySchema("people",{id:function id(ii){return ii.name}}),appendOnlyList=new react_enty__WEBPACK_IMPORTED_MODULE_19__.EntitySchema("people",{id:function id(){return"peopleList"},shape:new react_enty__WEBPACK_IMPORTED_MODULE_19__.ArraySchema(person,{merge:function merge(aa,bb){return aa.concat(bb)}})}),Api=Object(react_enty__WEBPACK_IMPORTED_MODULE_19__.EntityApi)({people:(_people2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(payload){var _yield$get2,data;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(axios__WEBPACK_IMPORTED_MODULE_18__.get)("https://swapi.dev/api/people/?page=".concat(payload.page));case 2:return _yield$get2=_context2.sent,data=_yield$get2.data,_context2.abrupt("return",data.results);case 5:case"end":return _context2.stop()}}),_callee2)}))),function people(){return _people2.apply(this,arguments)})},appendOnlyList);return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(Api.Provider,{debug:"create"},react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement((function PeopleList(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_20__.useState)(1),2),page=_useState2[0],setPage=_useState2[1],peopleMessage=Api.people.useRequest({key:"peopleList"});Object(react__WEBPACK_IMPORTED_MODULE_20__.useEffect)((function(){fetchMorePeople()}),[]);var fetchMorePeople=function(){peopleMessage.request({page:page}),setPage(page+1)},_peopleMessage$reques=peopleMessage.requestState,isFetching=_peopleMessage$reques.isFetching,isRefetching=_peopleMessage$reques.isRefetching,buttonText=isFetching||isRefetching?"Fetching...":"Fetch more people";return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.a,{padding:"3"},_ref3,react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_17__.b,{onClick:fetchMorePeople},buttonText),react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement("ul",null,(peopleMessage.response||[]).map((function(_ref4){var name=_ref4.name;return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement("li",{key:name},name)}))))}),null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/custom-data-classes.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},786:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function EntityApi(actionMap,schema){var _ProviderFactory=(0,_ProviderFactory2.default)({schema:schema}),Provider=_ProviderFactory.Provider,ProviderHoc=_ProviderFactory.ProviderHoc,Context=_ProviderFactory.Context,api=(0,_EntityApiFactory.default)(actionMap,(function(actionConfig){var useRequest=(0,_RequestHook.default)(Context,actionConfig);return{useRequest:useRequest,requestHoc:(0,_RequestHoc.default)({useRequest:useRequest})}})),useRemove=(0,_RemoveHook.default)(Context);return api.Provider=Provider,api.ProviderHoc=ProviderHoc,api.useRemove=useRemove,api.RemoveHoc=(0,_RemoveHoc.default)({useRemove:useRemove}),api};var _EntityApiFactory=_interopRequireDefault(__webpack_require__(787)),_ProviderFactory2=_interopRequireDefault(__webpack_require__(806)),_RequestHoc=_interopRequireDefault(__webpack_require__(823)),_RequestHook=_interopRequireDefault(__webpack_require__(840)),_RemoveHook=_interopRequireDefault(__webpack_require__(841)),_RemoveHoc=_interopRequireDefault(__webpack_require__(842))},787:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function EntityApiFactory(actionMap,visitor){return(0,_visitActionMap.default)(actionMap,(function(sideEffect,path){var actionType=path.join("_").toUpperCase(),requestAction=(0,_createRequestAction.default)(sideEffect);return visitor({actionType:actionType,requestAction:requestAction,resetAction:_resetAction.default,removeEntityAction:_removeAction.default,generateResultKey:function generateResultKey(payload){return(0,_Hash.default)({payload:payload,actionType:actionType})}})}))};var _Hash=_interopRequireDefault(__webpack_require__(788)),_visitActionMap=_interopRequireDefault(__webpack_require__(789)),_createRequestAction=_interopRequireDefault(__webpack_require__(800)),_resetAction=_interopRequireDefault(__webpack_require__(805)),_removeAction=_interopRequireDefault(__webpack_require__(345))},788:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function Hash(data){for(var str=JSON.stringify(data),hash=0,i=0;i<str.length;i++){var charCode=str.charCodeAt(i);hash=(hash<<5)-hash+charCode,hash&=hash}return Math.abs(hash)+""}},789:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function visitActionMap(branch,visitor){var path=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,_pipeWith.default)(branch,(0,_reduce.default)((function(reduction,item,key){return"function"!=typeof item&&(0,_isKeyed.default)(item)?reduction[key]=visitActionMap(item,visitor,path.concat(key)):reduction[key]=visitor(item,path.concat(key)),reduction}),{}))};var _isKeyed=_interopRequireDefault(__webpack_require__(790)),_reduce=_interopRequireDefault(__webpack_require__(342)),_pipeWith=_interopRequireDefault(__webpack_require__(148))},800:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createRequestAction(sideEffect){return function(requestPayload,meta){return function(dispatch,getState){var makeAction=function makeAction(type){return function(payload){return dispatch({type:type,payload:payload,meta:meta})}},sideEffectMeta=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},meta,{dispatch:dispatch,getState:getState}),fetchAction=makeAction("ENTY_FETCH"),receiveAction=makeAction("ENTY_RECEIVE"),errorAction=makeAction("ENTY_ERROR"),pending=sideEffect(requestPayload,sideEffectMeta);return fetchAction(null),"function"==typeof pending.subscribe?pending.subscribe({next:function next(data){return receiveAction(data)},complete:function complete(data){return receiveAction(data)},error:function error(_error){return errorAction(_error)}}):"function"==typeof pending.then?pending.then(receiveAction).catch((function(err){return errorAction(err),meta.returnResponse?Promise.reject(err):void 0})):(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_value;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_context.prev=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_context.prev=3,_iterator=(0,_asyncIterator2.default)(pending);case 5:return _context.next=7,_iterator.next();case 7:return _step=_context.sent,_iteratorNormalCompletion=_step.done,_context.next=11,_step.value;case 11:if(_value=_context.sent,_iteratorNormalCompletion){_context.next=18;break}receiveAction(_value);case 15:_iteratorNormalCompletion=!0,_context.next=5;break;case 18:_context.next=24;break;case 20:_context.prev=20,_context.t0=_context.catch(3),_didIteratorError=!0,_iteratorError=_context.t0;case 24:if(_context.prev=24,_context.prev=25,_iteratorNormalCompletion||null==_iterator.return){_context.next=29;break}return _context.next=29,_iterator.return();case 29:if(_context.prev=29,!_didIteratorError){_context.next=32;break}throw _iteratorError;case 32:return _context.finish(29);case 33:return _context.finish(24);case 34:_context.next=39;break;case 36:_context.prev=36,_context.t1=_context.catch(0),errorAction(_context.t1);case 39:case"end":return _context.stop()}}),_callee,null,[[0,36],[3,20,24,34],[25,,29,33]])})))(),meta.returnResponse?pending:void 0}}};var _regenerator=_interopRequireDefault(__webpack_require__(801)),_asyncToGenerator2=_interopRequireDefault(__webpack_require__(803)),_defineProperty2=_interopRequireDefault(__webpack_require__(62)),_asyncIterator2=_interopRequireDefault(__webpack_require__(804));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}},805:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function resetAction(responseKey){return{type:"ENTY_RESET",meta:{responseKey:responseKey}}}},806:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(346),_interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function ProviderFactory(config){var schema=config.schema,entityReducer=(0,_EntityReducerFactory.default)({schema:schema}),Context=(0,_react.createContext)();function Provider(_ref){var children=_ref.children,initialState=_ref.initialState,debug=_ref.debug,firstState=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({baseSchema:schema,schemas:{},response:{},error:{},requestState:{},entities:{},stats:{responseCount:0}},initialState),_useMemo=(0,_react.useMemo)((function(){var reducer=debug?function(state,action){return(0,_LoggingReducer.default)(entityReducer(state,action),action,debug)}:entityReducer;return{reducer:reducer,intialValue:reducer(firstState,{type:"ENTY_INIT",payload:null,meta:{responseKey:"Unknown"}})}}),[debug,firstState]),reducer=_useMemo.reducer,intialValue=_useMemo.intialValue,storeValue=(0,_useReducerThunk.default)(reducer,intialValue);return _react.default.createElement(Context.Provider,{value:storeValue,children:children})}return{Provider:Provider,ProviderHoc:function ProviderHoc(){return function(Component){return function(_ref2){var initialState=_ref2.initialState,rest=(0,_objectWithoutProperties2.default)(_ref2,["initialState"]);return _react.default.createElement(Provider,{initialState:initialState},_react.default.createElement(Component,rest))}}},Context:Context}};var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(347)),_defineProperty2=_interopRequireDefault(__webpack_require__(213)),_react=_interopRequireWildcard(__webpack_require__(0)),_useReducerThunk=_interopRequireDefault(__webpack_require__(808)),_EntityReducerFactory=_interopRequireDefault(__webpack_require__(812)),_LoggingReducer=_interopRequireDefault(__webpack_require__(822));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}},808:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function useThunkReducer(reducer,initialState){var _useState=(0,_react.useState)(initialState),_useState2=(0,_slicedToArray2.default)(_useState,2),hookState=_useState2[0],setHookState=_useState2[1],state=(0,_react.useRef)(hookState),getState=function getState(){return state.current};return[hookState,function dispatch(action){return"function"==typeof action?action(dispatch,getState):function setState(newState){state.current=newState,setHookState(newState)}(function reduce(action){return reducer(getState(),action)}(action))}]};var _slicedToArray2=_interopRequireDefault(__webpack_require__(214)),_react=__webpack_require__(0)},812:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function EntityReducerFactory(config){var schema=config.schema;return function EntityReducer(previousState,_ref){var type=_ref.type,payload=_ref.payload,_ref$meta=_ref.meta,state=previousState||{baseSchema:schema,schemas:{},response:{},error:{},requestState:{},entities:{},stats:{responseCount:0}},responseKey=(void 0===_ref$meta?{}:_ref$meta).responseKey,requestStatePath=["requestState",responseKey],responsePath=["response",responseKey],errorPath=["error",responseKey],incrementResponseCount=(0,_updateIn.default)(["stats","responseCount"],(function(count){return count+1}));switch(type){case"ENTY_FETCH":var requestState=(0,_getIn.default)(requestStatePath)(state),hasResponse=(0,_hasIn.default)(responsePath)(state);return state=requestState&&hasResponse?(0,_setIn.default)(requestStatePath,_RequestState.default.refetching())(state):(0,_setIn.default)(requestStatePath,_RequestState.default.fetching())(state);case"ENTY_ERROR":return(0,_pipeWith.default)(state,(0,_setIn.default)(requestStatePath,_RequestState.default.error(payload)),(0,_setIn.default)(errorPath,payload));case"ENTY_RECEIVE":if(state=(0,_setIn.default)(requestStatePath,_RequestState.default.success())(state),payload){if(schema){var _schema$normalize=schema.normalize(payload,(0,_pipeWith.default)(state,(0,_get.default)("entities"),(0,_clone.default)())),result=_schema$normalize.result,entities=_schema$normalize.entities,schemas=_schema$normalize.schemas;return(0,_pipeWith.default)(state,(0,_set.default)("entities",entities),(0,_setIn.default)(responsePath,result),(0,_updateIn.default)(["schemas"],(0,_merge.default)(schemas)),incrementResponseCount)}return(0,_pipeWith.default)(state,(0,_setIn.default)(responsePath,payload),incrementResponseCount)}return state;case"ENTY_REMOVE":return(0,_pipeWith.default)(state,incrementResponseCount,(0,_setIn.default)(["entities"].concat((0,_toConsumableArray2.default)(payload)),_RemovedEntity.default));case"ENTY_RESET":return(0,_pipeWith.default)(state,incrementResponseCount,(0,_setIn.default)(requestStatePath,_RequestState.default.empty()),(0,_deleteIn.default)(responsePath));default:return state}}};var _toConsumableArray2=_interopRequireDefault(__webpack_require__(74)),_clone=_interopRequireDefault(__webpack_require__(813)),_get=_interopRequireDefault(__webpack_require__(149)),_getIn=_interopRequireDefault(__webpack_require__(150)),_merge=_interopRequireDefault(__webpack_require__(814)),_pipeWith=_interopRequireDefault(__webpack_require__(148)),_set=_interopRequireDefault(__webpack_require__(350)),_setIn=_interopRequireDefault(__webpack_require__(351)),_hasIn=_interopRequireDefault(__webpack_require__(818)),_updateIn=_interopRequireDefault(__webpack_require__(352)),_deleteIn=_interopRequireDefault(__webpack_require__(820)),_RemovedEntity=_interopRequireDefault(__webpack_require__(151)),_RequestState=_interopRequireDefault(__webpack_require__(152))},822:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function LoggingReducer(state,action,debugName){var type=action.type,_action$meta=action.meta,meta=void 0===_action$meta?{}:_action$meta,payload=action.payload;!function group(name){console.group("%c[".concat(name,"]"),css)}("".concat(debugName,": ").concat(type));var responseKey=meta.responseKey,requestState=state.requestState[responseKey],requestStateType=requestState&&requestState.emptyMap((function(){return"empty"})).fetchingMap((function(){return"fetching"})).refetchingMap((function(){return"refetching"})).errorMap((function(){return"error"})).successMap((function(){return"success"})).value();"ENTY_FETCH"===type?log("responseKey:",responseKey,requestStateType):"ENTY_RECEIVE"===type?(log("responseKey:",responseKey,requestStateType),log("stats.responseCount",state.stats.responseCount),log("payload:",payload),log("response:",state.response[responseKey]),log("entities:",state.entities)):"ENTY_ERROR"===type?(log("responseKey:",responseKey,requestStateType),log("error:",state.error[responseKey])):"ENTY_REMOVE"===type&&(log("stats.responseCount",state.stats.responseCount),log("remove:",payload.join&&payload.join(".")),log("entities.".concat(payload[0],":"),state.entities[payload[0]]));return function groupEnd(){console.groupEnd()}(),state};var css="color: #7E488B;",log=function log(first){for(var _console,_len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];return(_console=console).log.apply(_console,["%c".concat(first),css].concat(rest))}},823:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(346),_interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function RequestHocFactory(_ref){var useRequest=_ref.useRequest;return function(hockConfig){var name=hockConfig.name,_hockConfig$auto=hockConfig.auto,auto=void 0!==_hockConfig$auto&&_hockConfig$auto,_hockConfig$payloadCr=hockConfig.payloadCreator,payloadCreator=void 0===_hockConfig$payloadCr?auto?returnObject:(0,_identity.default)():_hockConfig$payloadCr,_hockConfig$shouldCom=hockConfig.shouldComponentAutoRequest,shouldComponentAutoRequest=void 0===_hockConfig$shouldCom?returnTrue:_hockConfig$shouldCom;if(!name)throw"requestHoc must be given a name";return function(Component){return function(props){var message=useRequest({key:hockConfig.key&&hockConfig.key(props)}).update((function(message){return _objectSpread({},message,{request:function request(payload){for(var _len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];return message.request.apply(message,[payloadCreator(payload)].concat(rest))}})})),autoValues=("boolean"==typeof auto?[]:auto).map((function(path){return(0,_pipeWith.default)(props,(0,_getIn.default)(path.split(".")),(function(value){return JSON.stringify(value)}))}));(0,_react.useEffect)((function(){auto&&shouldComponentAutoRequest(props)&&message.request(props)}),autoValues);var newProps=_objectSpread({},props,(0,_defineProperty2.default)({},name,message));return _react.default.createElement(Component,newProps)}}}};var _defineProperty2=_interopRequireDefault(__webpack_require__(213)),_react=_interopRequireWildcard(__webpack_require__(0)),_getIn=_interopRequireDefault(__webpack_require__(824)),_identity=_interopRequireDefault(__webpack_require__(834)),_pipeWith=_interopRequireDefault(__webpack_require__(836));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var returnTrue=function returnTrue(){return!0},returnObject=function returnObject(){}},840:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function RequestHookFactory(context,config){var requestAction=config.requestAction,resetAction=config.resetAction,removeEntityAction=config.removeEntityAction,generateResultKey=config.generateResultKey;return function(){var config=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_useState=(0,_react.useState)("Unknown"),_useState2=(0,_slicedToArray2.default)(_useState,2),derivedResponseKey=_useState2[0],setDerivedResponseKey=_useState2[1],responseKey=config.key?generateResultKey(config.key):derivedResponseKey,store=(0,_react.useContext)(context);if(!store)throw"useRequest must be called in a provider";var _store=(0,_slicedToArray2.default)(store,2),state=_store[0],dispatch=_store[1],responseRef=(0,_react.useRef)(),mounted=(0,_react.useRef)(!0),requestState=state.requestState[responseKey]||_RequestState.default.empty();(0,_react.useEffect)((function(){return function(){mounted.current=!1}}),[]);var response=(0,_react.useMemo)((function(){var schema=state.baseSchema,result=state.response[responseKey],entities=state.entities;return schema?schema.denormalize({entities:entities,result:result}):result}),[requestState,responseKey,state.stats.responseCount]);responseRef.current=response;var request=(0,_react.useCallback)((function(payload){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$returnResponse=_ref.returnResponse,returnResponse=void 0!==_ref$returnResponse&&_ref$returnResponse,responseKey=generateResultKey(config.key||payload);return setDerivedResponseKey(responseKey),dispatch(requestAction(payload,{responseKey:responseKey,returnResponse:returnResponse}))})),reset=(0,_react.useCallback)((function(){return dispatch(resetAction(responseKey))})),removeEntity=(0,_react.useCallback)((function(type,id){return dispatch(removeEntityAction(type,id))}));return(0,_react.useMemo)((function(){return new _Message.default({removeEntity:removeEntity,request:request,requestError:state.error[responseKey],requestState:requestState,reset:reset,response:response,responseKey:responseKey})}),[requestState,response,responseKey])}};var _slicedToArray2=_interopRequireDefault(__webpack_require__(214)),_Message=_interopRequireDefault(__webpack_require__(357)),_RequestState=_interopRequireDefault(__webpack_require__(152)),_react=__webpack_require__(0)},841:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function RemoveHookFactory(context){return function(){var store=(0,_react.useContext)(context);if(!store)throw"useRemove must be called in a provider";var _store=(0,_slicedToArray2.default)(store,2),state=_store[0],dispatch=_store[1];return(0,_react.useMemo)((function(){return function(type,id){dispatch((0,_removeAction.default)(type,id))}}),[state])}};var _slicedToArray2=_interopRequireDefault(__webpack_require__(214)),_removeAction=_interopRequireDefault(__webpack_require__(345)),_react=__webpack_require__(0)},842:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function RemoveHocFactory(_ref){var useRemove=_ref.useRemove;return function(hockConfig){var _hockConfig$name=hockConfig.name,name=void 0===_hockConfig$name?"onRemove":_hockConfig$name;return function(Component){return function(props){var onRemove=useRemove(),newProps=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},props,(0,_defineProperty2.default)({},name,onRemove));return _react.default.createElement(Component,newProps)}}}};var _defineProperty2=_interopRequireDefault(__webpack_require__(213)),_react=_interopRequireDefault(__webpack_require__(0));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}},843:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(16);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function LoadingBoundaryHoc(config){var _config$mapResponseTo=config.mapResponseToProps,mapResponseToProps=void 0===_config$mapResponseTo?returnObject:_config$mapResponseTo,name=config.name,remainingConfig=(0,_objectWithoutProperties2.default)(config,["mapResponseToProps","name"]);return function LoadingBoundaryApplier(Component){return function(props){var message=props[name];return _react.default.createElement(_LoadingBoundary.default,(0,_extends2.default)({},remainingConfig,{message:message,children:function children(response){var childProps=mapResponseToProps(response);return childProps[name]=message,_react.default.createElement(Component,(0,_extends2.default)({},props,childProps))}}))}}};var _extends2=_interopRequireDefault(__webpack_require__(844)),_objectWithoutProperties2=_interopRequireDefault(__webpack_require__(347)),_react=_interopRequireDefault(__webpack_require__(0)),_LoadingBoundary=_interopRequireDefault(__webpack_require__(358)),returnObject=function returnObject(){return{}}},845:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function useAutoRequest(fn){var deps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,_react.useEffect)((function(){fn()}),deps)};var _react=__webpack_require__(0)},846:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(96)),_createClass2=_interopRequireDefault(__webpack_require__(97)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(847)),_assertThisInitialized2=_interopRequireDefault(__webpack_require__(361)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(362)),_get2=_interopRequireDefault(__webpack_require__(848)),_inherits2=_interopRequireDefault(__webpack_require__(850)),_defineProperty2=_interopRequireDefault(__webpack_require__(63)),_map=_interopRequireDefault(__webpack_require__(363)),_Error=__webpack_require__(367),_EntitySchema2=_interopRequireDefault(__webpack_require__(368));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function isEntitySchema(schema){return schema instanceof _EntitySchema2.default||schema instanceof CompositeEntitySchema}var CompositeEntitySchema=function(_EntitySchema){function CompositeEntitySchema(name){var _this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,_classCallCheck2.default)(this,CompositeEntitySchema),_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(CompositeEntitySchema).call(this,name,options)),(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"compositeKeys",void 0),_this.compositeKeys=options.compositeKeys,_this}return(0,_inherits2.default)(CompositeEntitySchema,_EntitySchema),(0,_createClass2.default)(CompositeEntitySchema,[{key:"normalize",value:function normalize(data){var entities=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},compositeKeys=this.compositeKeys,name=this.name,adjustedData=Object.assign({},data),idList=[],compositeResults=(0,_map.default)((function(schema,key){if(!isEntitySchema(compositeKeys[key]))throw(0,_Error.CompositeKeysMustBeEntitiesError)("".concat(name,".").concat(key),compositeKeys[key].constructor.name);if(null==adjustedData[key])return null;var compositeResult=compositeKeys[key].normalize(adjustedData[key],entities).result;return delete adjustedData[key],idList.push(compositeResult),compositeResult}))(compositeKeys),_get$call=(0,_get2.default)((0,_getPrototypeOf2.default)(CompositeEntitySchema.prototype),"normalize",this).call(this,adjustedData,entities),schemas=_get$call.schemas,mainResult=_get$call.result,result=_objectSpread((0,_defineProperty2.default)({},name,mainResult),compositeResults),id=[mainResult].concat(idList).join("-");return entities[name][id]=result,schemas[name]=this,{entities:entities,schemas:schemas,result:id}}},{key:"denormalize",value:function denormalize(denormalizeState){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],shape=this.shape,compositeKeys=this.compositeKeys,name=this.name,entities=denormalizeState.entities,result=(0,_get2.default)((0,_getPrototypeOf2.default)(CompositeEntitySchema.prototype),"denormalize",this).call(this,denormalizeState,path),mainDenormalizedState=(0,_get2.default)((0,_getPrototypeOf2.default)(CompositeEntitySchema.prototype),"denormalize",this).call(this,{result:result[name],entities:entities},path),compositeDenormalizedState=(0,_map.default)((function(schema,key){return schema.denormalize({result:result[key],entities:entities},path)}))(compositeKeys);return shape.merge(mainDenormalizedState,compositeDenormalizedState)}}]),CompositeEntitySchema}(_EntitySchema2.default);exports.default=CompositeEntitySchema},870:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function constructSchemaFromLiteral(literal){if(Array.isArray(literal))return new _ArraySchema.default(constructSchemaFromLiteral(literal[0]));if((0,_isObject.default)(literal)){var keyedShape=(0,_map.default)(constructSchemaFromLiteral)(literal);return new _ObjectSchema.default(keyedShape)}return literal};var _map=_interopRequireDefault(__webpack_require__(363)),_isObject=_interopRequireDefault(__webpack_require__(871)),_ObjectSchema=_interopRequireDefault(__webpack_require__(218)),_ArraySchema=_interopRequireDefault(__webpack_require__(359))},871:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function isPlainObject(o){var ctor;if(!1===function isObjectObject(val){return null!=val&&"object"===(0,_typeof2.default)(val)&&!1===Array.isArray(val)&&"[object Object]"===Object.prototype.toString.call(val)}(o))return!1;if("function"!=typeof(ctor=o.constructor))return!1;if(!1===ctor.prototype.hasOwnProperty("isPrototypeOf"))return!1;return!0};var _typeof2=_interopRequireDefault(__webpack_require__(360))},872:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(96)),_createClass2=_interopRequireDefault(__webpack_require__(97)),_defineProperty2=_interopRequireDefault(__webpack_require__(63)),DynamicSchema=function(){function DynamicSchema(shape){(0,_classCallCheck2.default)(this,DynamicSchema),(0,_defineProperty2.default)(this,"shape",void 0),(0,_defineProperty2.default)(this,"create",void 0),(0,_defineProperty2.default)(this,"merge",void 0),this.shape=shape}return(0,_createClass2.default)(DynamicSchema,[{key:"normalize",value:function normalize(data){var entities=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},schema=this.shape(data),result=schema.normalize(data,entities);return{entities:entities,schemas:result.schemas,result:{resultType:"dynamicSchemaResult",result:result,schema:schema}}}},{key:"denormalize",value:function denormalize(denormalizeState){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_denormalizeState$res=denormalizeState.result,schema=_denormalizeState$res.schema,result=_denormalizeState$res.result;return schema.denormalize(result,path)}}]),DynamicSchema}();exports.default=DynamicSchema},873:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(12);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(96)),_createClass2=_interopRequireDefault(__webpack_require__(97)),_defineProperty2=_interopRequireDefault(__webpack_require__(63)),IdSchema=function(){function IdSchema(shape){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_classCallCheck2.default)(this,IdSchema),(0,_defineProperty2.default)(this,"shape",void 0),(0,_defineProperty2.default)(this,"create",void 0),(0,_defineProperty2.default)(this,"merge",void 0),this.shape=shape,this.create=options.create||function(id){return{id:id}}}return(0,_createClass2.default)(IdSchema,[{key:"normalize",value:function normalize(data){var entities=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_this$shape$normalize=this.shape.normalize(this.create(data),entities),result=_this$shape$normalize.result,schemas=_this$shape$normalize.schemas;return{result:result,schemas:schemas,entities:entities}}},{key:"denormalize",value:function denormalize(denormalizeState){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.shape.denormalize(denormalizeState,path)}}]),IdSchema}();exports.default=IdSchema},874:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LoadingBoundary",(function(){return LoadingBoundary})),__webpack_require__.d(__webpack_exports__,"FallbackOnRefetch",(function(){return FallbackOnRefetch})),__webpack_require__.d(__webpack_exports__,"MultipleLoaders",(function(){return MultipleLoaders})),__webpack_require__.d(__webpack_exports__,"Overlay",(function(){return Overlay}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/basics",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | Fallbacks'};\n\nexport const LoadingBoundary = () => <div>Todo</div>\nexport const FallbackOnRefetch = () => <div>Todo</div>\nexport const MultipleLoaders = () => <div>Todo</div>\nexport const Overlay = () => <div>Todo</div>\n\n",__ADDS_MAP__={"1-basics-fallbacks--loading-boundary":{startLoc:{col:31,line:6},endLoc:{col:52,line:6},startBody:{col:31,line:6},endBody:{col:52,line:6}},"1-basics-fallbacks--fallback-on-refetch":{startLoc:{col:33,line:7},endLoc:{col:54,line:7},startBody:{col:33,line:7},endBody:{col:54,line:7}},"1-basics-fallbacks--multiple-loaders":{startLoc:{col:31,line:8},endLoc:{col:52,line:8},startBody:{col:31,line:8},endBody:{col:52,line:8}},"1-basics-fallbacks--overlay":{startLoc:{col:23,line:9},endLoc:{col:44,line:9},startBody:{col:23,line:9},endBody:{col:44,line:9}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | Fallbacks'};\n\nexport const LoadingBoundary = () => <div>Todo</div>\nexport const FallbackOnRefetch = () => <div>Todo</div>\nexport const MultipleLoaders = () => <div>Todo</div>\nexport const Overlay = () => <div>Todo</div>\n\n",locationsMap:{"1-basics-fallbacks--loading-boundary":{startLoc:{col:31,line:6},endLoc:{col:52,line:6},startBody:{col:31,line:6},endBody:{col:52,line:6}},"1-basics-fallbacks--fallback-on-refetch":{startLoc:{col:33,line:7},endLoc:{col:54,line:7},startBody:{col:33,line:7},endBody:{col:54,line:7}},"1-basics-fallbacks--multiple-loaders":{startLoc:{col:31,line:8},endLoc:{col:52,line:8},startBody:{col:31,line:8},endBody:{col:52,line:8}},"1-basics-fallbacks--overlay":{startLoc:{col:23,line:9},endLoc:{col:44,line:9},startBody:{col:23,line:9},endBody:{col:44,line:9}}}}},title:"1 Basics | Fallbacks"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),LoadingBoundary=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/fallbacks.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),FallbackOnRefetch=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/fallbacks.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),MultipleLoaders=addSourceDecorator((function(){return _ref3}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/fallbacks.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),Overlay=addSourceDecorator((function(){return _ref4}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/fallbacks.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},875:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MergingData",(function(){return MergingData})),__webpack_require__.d(__webpack_exports__,"AlwaysUpToDate",(function(){return AlwaysUpToDate}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),addSourceDecorator=(__webpack_require__(25),__webpack_require__(4).withSource,__webpack_require__(4).addSource),__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/basics",__STORY__="import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | TODO Normalizing Examples'};\n\nexport const MergingData = () => <div>Todo</div>\nexport const AlwaysUpToDate = () => <div>Todo</div>\n\n",__ADDS_MAP__={"1-basics-todo-normalizing-examples--merging-data":{startLoc:{col:27,line:6},endLoc:{col:48,line:6},startBody:{col:27,line:6},endBody:{col:48,line:6}},"1-basics-todo-normalizing-examples--always-up-to-date":{startLoc:{col:30,line:7},endLoc:{col:51,line:7},startBody:{col:30,line:7},endBody:{col:51,line:7}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport {Button} from '@storybook/react/demo';\n\nexport default {title: '1 Basics | TODO Normalizing Examples'};\n\nexport const MergingData = () => <div>Todo</div>\nexport const AlwaysUpToDate = () => <div>Todo</div>\n\n",locationsMap:{"1-basics-todo-normalizing-examples--merging-data":{startLoc:{col:27,line:6},endLoc:{col:48,line:6},startBody:{col:27,line:6},endBody:{col:48,line:6}},"1-basics-todo-normalizing-examples--always-up-to-date":{startLoc:{col:30,line:7},endLoc:{col:51,line:7},startBody:{col:30,line:7},endBody:{col:51,line:7}}}}},title:"1 Basics | TODO Normalizing Examples"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),MergingData=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/normalizing-examples.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Todo"),AlwaysUpToDate=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/normalizing-examples.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},876:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OnRender",(function(){return OnRender})),__webpack_require__.d(__webpack_exports__,"BasedOnId",(function(){return BasedOnId})),__webpack_require__.d(__webpack_exports__,"Callbacks",(function(){return Callbacks})),__webpack_require__.d(__webpack_exports__,"ParallelRequests",(function(){return ParallelRequests})),__webpack_require__.d(__webpack_exports__,"SequentialRequests",(function(){return SequentialRequests}));__webpack_require__(24),__webpack_require__(32),__webpack_require__(33),__webpack_require__(72),__webpack_require__(51),__webpack_require__(29),__webpack_require__(73),__webpack_require__(136),__webpack_require__(52),__webpack_require__(81),__webpack_require__(23),__webpack_require__(79),__webpack_require__(53),__webpack_require__(34),__webpack_require__(35),__webpack_require__(88);var theme_ui__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2),axios__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(75),react_enty__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__(4).withSource;var addSourceDecorator=__webpack_require__(4).addSource,__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs/basics",__STORY__='// Storybook setup\nexport default {title: \'1 Basics | Requesting Data\'};\n\n// Example begins here\nimport {Button, Spinner, Input, Box, Text, Message, Flex} from \'theme-ui\';\nimport {get} from \'axios\';\nimport {EntityApi, LoadingBoundary, EntitySchema, ObjectSchema, ArraySchema}  from \'react-enty\';\nimport React, {useEffect, useState} from \'react\';\n\n// Define Schemas\nconst person = new EntitySchema(\'person\', {id: data => data.name});\nconst personList = new ArraySchema(person);\n\nconst MainSchema = new ObjectSchema({\n    personList,\n    person\n});\n\n// Setup the api\nconst api = EntityApi({\n    person: {\n        list: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n            return {personList: data.results};\n        },\n        get: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/${payload.id}/`);\n            return {person: data};\n        }\n    }\n}, MainSchema)\n\n\n// Request personList on render\nexport const OnRender = api.ProviderHoc()(() => {\n    const personListMessage = api.person.list.useRequest();\n\n    useEffect(() => {\n        personListMessage.request({page: 1});\n    }, []);\n\n    return <Box padding="3">\n        <Message marginBottom="3">\n            <Text>This example will fetch a list of people once when the component renders.</Text>\n            <Text>Navigate away and back to see it fetch.</Text>\n        </Message>\n        <LoadingBoundary message={personListMessage} fallback={Spinner}>\n            {({personList}) => {\n                return <ul>\n                    {personList.map(({name, birth_year}) => <li key={name}>\n                        <Text as="span" fontWeight="bold">{name}</Text>\n                        <Text as="span"> ({birth_year})</Text>\n                    </li>)}\n                </ul>\n            }}\n        </LoadingBoundary>\n    </Box>\n});\n\n//\n// Request a person based on an id\nexport const BasedOnId = api.ProviderHoc()(() => {\n\n    const [id, setId] = useState(null);\n    const personMessage = api.person.get.useRequest();\n\n    // Request new data if `id` changes\n    useEffect(() => {\n        if(id) personMessage.request({id});\n    }, [id]);\n\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text marginBottom="3">Fetch a single person based on changes to id.</Text>\n            <Flex>\n                <Button mr="2" onClick={() => setId(1)}>Load Luke</Button>\n                <Button mr="2" onClick={() => setId(2)}>Load C-3PO</Button>\n                <Button onClick={() => setId(3)}>Load R2-D2</Button>\n            </Flex>\n        </Message>\n        <LoadingBoundary message={personMessage} fallback={Spinner}>\n            {({person}) => <table>\n                <tbody>\n                    <tr><th>Name</th><td>{person.name}</td></tr>\n                    <tr><th>Height</th><td>{person.height}</td></tr>\n                    <tr><th>Mass</th><td>{person.mass}</td></tr>\n                    <tr><th>Hair Color</th><td>{person.hair_color}</td></tr>\n                    <tr><th>Skin Color</th><td>{person.skin_color}</td></tr>\n                    <tr><th>Eye color</th><td>{person.eye_color}</td></tr>\n                    <tr><th>Birth Year</th><td>{person.birth_year}</td></tr>\n                    <tr><th>Gender</th><td>{person.gender}</td></tr>\n                </tbody>\n            </table>}\n        </LoadingBoundary>\n    </Box>\n});\n\n\nexport const Callbacks = api.ProviderHoc()(() => {\n    const personMessage = api.person.get.useRequest();\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text marginBottom="3">Request data directly via callback</Text>\n            <Flex>\n                <Button mr="2" onClick={() => personMessage.request({id: 1})}>Load Luke</Button>\n                <Button mr="2" onClick={() => personMessage.request({id: 2})}>Load C-3PO</Button>\n                <Button onClick={() => personMessage.request({id: 3})}>Load R2-D2</Button>\n            </Flex>\n        </Message>\n        <LoadingBoundary message={personMessage} fallback={Spinner}>\n            {({person}) => <table>\n                <tbody>\n                    <tr><th>Name</th><td>{person.name}</td></tr>\n                    <tr><th>Eye color</th><td>{person.eye_color}</td></tr>\n                    <tr><th>Birth Year</th><td>{person.birth_year}</td></tr>\n                </tbody>\n            </table>}\n        </LoadingBoundary>\n    </Box>\n});\n\n\nexport const ParallelRequests = api.ProviderHoc()(() => {\n    const luke = api.person.get.useRequest();\n    const leia = api.person.get.useRequest();\n\n    useEffect(() => {\n        luke.request({id: 1});\n        leia.request({id: 5});\n    }, []);\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text>Request two people at the same time by creating two different messages.</Text>\n        </Message>\n        <LoadingBoundary message={luke} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n        <LoadingBoundary message={leia} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n    </Box>\n});\n\n\nexport const SequentialRequests = api.ProviderHoc()(() => {\n    const luke = api.person.get.useRequest();\n    const leia = api.person.get.useRequest();\n\n    useEffect(() => {\n        if(luke.requestState.isEmpty) luke.request({id: 1});\n        if(luke.requestState.isSuccess) leia.request({id: 5});\n    }, [luke]);\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text>Request two people sequentially by checking the request state in useEffect</Text>\n        </Message>\n        <LoadingBoundary message={luke} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n        <LoadingBoundary message={leia} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n    </Box>\n});\n\n',__ADDS_MAP__={"1-basics-requesting-data--on-render":{startLoc:{col:24,line:35},endLoc:{col:2,line:58},startBody:{col:24,line:35},endBody:{col:2,line:58}},"1-basics-requesting-data--based-on-id":{startLoc:{col:25,line:62},endLoc:{col:2,line:97},startBody:{col:25,line:62},endBody:{col:2,line:97}},"1-basics-requesting-data--callbacks":{startLoc:{col:25,line:100},endLoc:{col:2,line:122},startBody:{col:25,line:100},endBody:{col:2,line:122}},"1-basics-requesting-data--parallel-requests":{startLoc:{col:32,line:125},endLoc:{col:2,line:145},startBody:{col:32,line:125},endBody:{col:2,line:145}},"1-basics-requesting-data--sequential-requests":{startLoc:{col:34,line:148},endLoc:{col:2,line:168},startBody:{col:34,line:148},endBody:{col:2,line:168}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:'// Storybook setup\nexport default {title: \'1 Basics | Requesting Data\'};\n\n// Example begins here\nimport {Button, Spinner, Input, Box, Text, Message, Flex} from \'theme-ui\';\nimport {get} from \'axios\';\nimport {EntityApi, LoadingBoundary, EntitySchema, ObjectSchema, ArraySchema}  from \'react-enty\';\nimport React, {useEffect, useState} from \'react\';\n\n// Define Schemas\nconst person = new EntitySchema(\'person\', {id: data => data.name});\nconst personList = new ArraySchema(person);\n\nconst MainSchema = new ObjectSchema({\n    personList,\n    person\n});\n\n// Setup the api\nconst api = EntityApi({\n    person: {\n        list: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n            return {personList: data.results};\n        },\n        get: async (payload) => {\n            const {data} = await get(`https://swapi.dev/api/people/${payload.id}/`);\n            return {person: data};\n        }\n    }\n}, MainSchema)\n\n\n// Request personList on render\nexport const OnRender = api.ProviderHoc()(() => {\n    const personListMessage = api.person.list.useRequest();\n\n    useEffect(() => {\n        personListMessage.request({page: 1});\n    }, []);\n\n    return <Box padding="3">\n        <Message marginBottom="3">\n            <Text>This example will fetch a list of people once when the component renders.</Text>\n            <Text>Navigate away and back to see it fetch.</Text>\n        </Message>\n        <LoadingBoundary message={personListMessage} fallback={Spinner}>\n            {({personList}) => {\n                return <ul>\n                    {personList.map(({name, birth_year}) => <li key={name}>\n                        <Text as="span" fontWeight="bold">{name}</Text>\n                        <Text as="span"> ({birth_year})</Text>\n                    </li>)}\n                </ul>\n            }}\n        </LoadingBoundary>\n    </Box>\n});\n\n//\n// Request a person based on an id\nexport const BasedOnId = api.ProviderHoc()(() => {\n\n    const [id, setId] = useState(null);\n    const personMessage = api.person.get.useRequest();\n\n    // Request new data if `id` changes\n    useEffect(() => {\n        if(id) personMessage.request({id});\n    }, [id]);\n\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text marginBottom="3">Fetch a single person based on changes to id.</Text>\n            <Flex>\n                <Button mr="2" onClick={() => setId(1)}>Load Luke</Button>\n                <Button mr="2" onClick={() => setId(2)}>Load C-3PO</Button>\n                <Button onClick={() => setId(3)}>Load R2-D2</Button>\n            </Flex>\n        </Message>\n        <LoadingBoundary message={personMessage} fallback={Spinner}>\n            {({person}) => <table>\n                <tbody>\n                    <tr><th>Name</th><td>{person.name}</td></tr>\n                    <tr><th>Height</th><td>{person.height}</td></tr>\n                    <tr><th>Mass</th><td>{person.mass}</td></tr>\n                    <tr><th>Hair Color</th><td>{person.hair_color}</td></tr>\n                    <tr><th>Skin Color</th><td>{person.skin_color}</td></tr>\n                    <tr><th>Eye color</th><td>{person.eye_color}</td></tr>\n                    <tr><th>Birth Year</th><td>{person.birth_year}</td></tr>\n                    <tr><th>Gender</th><td>{person.gender}</td></tr>\n                </tbody>\n            </table>}\n        </LoadingBoundary>\n    </Box>\n});\n\n\nexport const Callbacks = api.ProviderHoc()(() => {\n    const personMessage = api.person.get.useRequest();\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text marginBottom="3">Request data directly via callback</Text>\n            <Flex>\n                <Button mr="2" onClick={() => personMessage.request({id: 1})}>Load Luke</Button>\n                <Button mr="2" onClick={() => personMessage.request({id: 2})}>Load C-3PO</Button>\n                <Button onClick={() => personMessage.request({id: 3})}>Load R2-D2</Button>\n            </Flex>\n        </Message>\n        <LoadingBoundary message={personMessage} fallback={Spinner}>\n            {({person}) => <table>\n                <tbody>\n                    <tr><th>Name</th><td>{person.name}</td></tr>\n                    <tr><th>Eye color</th><td>{person.eye_color}</td></tr>\n                    <tr><th>Birth Year</th><td>{person.birth_year}</td></tr>\n                </tbody>\n            </table>}\n        </LoadingBoundary>\n    </Box>\n});\n\n\nexport const ParallelRequests = api.ProviderHoc()(() => {\n    const luke = api.person.get.useRequest();\n    const leia = api.person.get.useRequest();\n\n    useEffect(() => {\n        luke.request({id: 1});\n        leia.request({id: 5});\n    }, []);\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text>Request two people at the same time by creating two different messages.</Text>\n        </Message>\n        <LoadingBoundary message={luke} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n        <LoadingBoundary message={leia} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n    </Box>\n});\n\n\nexport const SequentialRequests = api.ProviderHoc()(() => {\n    const luke = api.person.get.useRequest();\n    const leia = api.person.get.useRequest();\n\n    useEffect(() => {\n        if(luke.requestState.isEmpty) luke.request({id: 1});\n        if(luke.requestState.isSuccess) leia.request({id: 5});\n    }, [luke]);\n\n    return <Box margin="3">\n        <Message marginBottom="3">\n            <Text>Request two people sequentially by checking the request state in useEffect</Text>\n        </Message>\n        <LoadingBoundary message={luke} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n        <LoadingBoundary message={leia} fallback={Spinner}>\n            {({person}) => <Text>{person.name}</Text>}\n        </LoadingBoundary>\n    </Box>\n});\n\n',locationsMap:{"1-basics-requesting-data--on-render":{startLoc:{col:24,line:35},endLoc:{col:2,line:58},startBody:{col:24,line:35},endBody:{col:2,line:58}},"1-basics-requesting-data--based-on-id":{startLoc:{col:25,line:62},endLoc:{col:2,line:97},startBody:{col:25,line:62},endBody:{col:2,line:97}},"1-basics-requesting-data--callbacks":{startLoc:{col:25,line:100},endLoc:{col:2,line:122},startBody:{col:25,line:100},endBody:{col:2,line:122}},"1-basics-requesting-data--parallel-requests":{startLoc:{col:32,line:125},endLoc:{col:2,line:145},startBody:{col:32,line:125},endBody:{col:2,line:145}},"1-basics-requesting-data--sequential-requests":{startLoc:{col:34,line:148},endLoc:{col:2,line:168},startBody:{col:34,line:148},endBody:{col:2,line:168}}}}},title:"1 Basics | Requesting Data"};var _get2,_list,person=new react_enty__WEBPACK_IMPORTED_MODULE_18__.EntitySchema("person",{id:function id(data){return data.name}}),personList=new react_enty__WEBPACK_IMPORTED_MODULE_18__.ArraySchema(person),MainSchema=new react_enty__WEBPACK_IMPORTED_MODULE_18__.ObjectSchema({personList:personList,person:person}),api=Object(react_enty__WEBPACK_IMPORTED_MODULE_18__.EntityApi)({person:{list:(_list=_asyncToGenerator(regeneratorRuntime.mark((function _callee(payload){var _yield$get,data;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(axios__WEBPACK_IMPORTED_MODULE_17__.get)("https://swapi.dev/api/people/?page=".concat(payload.page));case 2:return _yield$get=_context.sent,data=_yield$get.data,_context.abrupt("return",{personList:data.results});case 5:case"end":return _context.stop()}}),_callee)}))),function list(){return _list.apply(this,arguments)}),get:(_get2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(payload){var _yield$_get,data;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(axios__WEBPACK_IMPORTED_MODULE_17__.get)("https://swapi.dev/api/people/".concat(payload.id,"/"));case 2:return _yield$_get=_context2.sent,data=_yield$_get.data,_context2.abrupt("return",{person:data});case 5:case"end":return _context2.stop()}}),_callee2)}))),function get(){return _get2.apply(this,arguments)})}},MainSchema),_ref=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.d,{marginBottom:"3"},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,"This example will fetch a list of people once when the component renders."),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,"Navigate away and back to see it fetch.")),OnRender=addSourceDecorator(api.ProviderHoc()((function(){var personListMessage=api.person.list.useRequest();return Object(react__WEBPACK_IMPORTED_MODULE_19__.useEffect)((function(){personListMessage.request({page:1})}),[]),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.a,{padding:"3"},_ref,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:personListMessage,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref2){var personList=_ref2.personList;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("ul",null,personList.map((function(_ref3){var name=_ref3.name,birth_year=_ref3.birth_year;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("li",{key:name},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,{as:"span",fontWeight:"bold"},name),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,{as:"span"}," (",birth_year,")"))})))})))})),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/requesting-data.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref4=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,{marginBottom:"3"},"Fetch a single person based on changes to id."),_ref6=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Name"),_ref7=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Height"),_ref8=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Mass"),_ref9=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Hair Color"),_ref10=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Skin Color"),_ref11=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Eye color"),_ref12=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Birth Year"),_ref13=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Gender"),BasedOnId=addSourceDecorator(api.ProviderHoc()((function(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)(null),2),id=_useState2[0],setId=_useState2[1],personMessage=api.person.get.useRequest();return Object(react__WEBPACK_IMPORTED_MODULE_19__.useEffect)((function(){id&&personMessage.request({id:id})}),[id]),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.a,{margin:"3"},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.d,{marginBottom:"3"},_ref4,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.c,null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{mr:"2",onClick:function onClick(){return setId(1)}},"Load Luke"),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{mr:"2",onClick:function onClick(){return setId(2)}},"Load C-3PO"),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{onClick:function onClick(){return setId(3)}},"Load R2-D2"))),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:personMessage,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref5){var person=_ref5.person;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref6,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.name)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref7,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.height)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref8,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.mass)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref9,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.hair_color)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref10,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.skin_color)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref11,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.eye_color)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref12,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.birth_year)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref13,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.gender))))})))})),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/requesting-data.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref14=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,{marginBottom:"3"},"Request data directly via callback"),_ref16=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Name"),_ref17=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Eye color"),_ref18=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("th",null,"Birth Year"),Callbacks=addSourceDecorator(api.ProviderHoc()((function(){var personMessage=api.person.get.useRequest();return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.a,{margin:"3"},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.d,{marginBottom:"3"},_ref14,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.c,null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{mr:"2",onClick:function onClick(){return personMessage.request({id:1})}},"Load Luke"),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{mr:"2",onClick:function onClick(){return personMessage.request({id:2})}},"Load C-3PO"),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{onClick:function onClick(){return personMessage.request({id:3})}},"Load R2-D2"))),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:personMessage,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref15){var person=_ref15.person;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref16,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.name)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref17,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.eye_color)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("tr",null,_ref18,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("td",null,person.birth_year))))})))})),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/requesting-data.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref19=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.d,{marginBottom:"3"},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,"Request two people at the same time by creating two different messages.")),ParallelRequests=addSourceDecorator(api.ProviderHoc()((function(){var luke=api.person.get.useRequest(),leia=api.person.get.useRequest();return Object(react__WEBPACK_IMPORTED_MODULE_19__.useEffect)((function(){luke.request({id:1}),leia.request({id:5})}),[]),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.a,{margin:"3"},_ref19,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:luke,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref20){var person=_ref20.person;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,person.name)})),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:leia,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref21){var person=_ref21.person;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,person.name)})))})),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/requesting-data.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref22=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.d,{marginBottom:"3"},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,"Request two people sequentially by checking the request state in useEffect")),SequentialRequests=addSourceDecorator(api.ProviderHoc()((function(){var luke=api.person.get.useRequest(),leia=api.person.get.useRequest();return Object(react__WEBPACK_IMPORTED_MODULE_19__.useEffect)((function(){luke.requestState.isEmpty&&luke.request({id:1}),luke.requestState.isSuccess&&leia.request({id:5})}),[luke]),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.a,{margin:"3"},_ref22,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:luke,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref23){var person=_ref23.person;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,person.name)})),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_18__.LoadingBoundary,{message:leia,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_16__.e},(function(_ref24){var person=_ref24.person;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_16__.f,null,person.name)})))})),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/requesting-data.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},877:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WhatIsEnty",(function(){return WhatIsEnty})),__webpack_require__.d(__webpack_exports__,"AboutTheseDocs",(function(){return AboutTheseDocs})),__webpack_require__.d(__webpack_exports__,"JustGiveMeTheCode",(function(){return JustGiveMeTheCode})),__webpack_require__.d(__webpack_exports__,"TodoApp",(function(){return TodoApp}));__webpack_require__(73),__webpack_require__(81),__webpack_require__(23),__webpack_require__(79),__webpack_require__(88);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_markdown_with_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(232),react_markdown_with_html__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_markdown_with_html__WEBPACK_IMPORTED_MODULE_6__),theme_ui__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(75),react_enty__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}__webpack_require__(4).withSource;var addSourceDecorator=__webpack_require__(4).addSource,__SOURCE_PREFIX__="/Users/allanhortle/code/enty/packages/docs/docs",__STORY__="// Setup\nimport React, {useEffect, useState} from 'react';\nimport Markdown from 'react-markdown/with-html';\nimport {Button, Spinner, Input, Box, Text, Message, Flex} from 'theme-ui';\nimport {get} from 'axios';\nimport {EntityApi, LoadingBoundary, EntitySchema, ObjectSchema, ArraySchema}  from 'react-enty';\n\nexport default {title: '0 Introduction | Start Here'};\n\n\n// Examples Start Here\n\nexport const WhatIsEnty = () => <Box padding=\"3\"><Markdown source={`\n\n# What is Enty?\n\nEnty is a normalized cache for front-ends designed to synchronized local state with an external source like a database.\n\n* It's declarative. (Designed for hooks)\n* It keeps your data up to date.\n* It's low boiler plate.\n* It works with promises, async generators and observables.\n\n`} /></Box>;\n\n\nexport const AboutTheseDocs = () => <Box padding=\"3\"><Markdown source={`\n\n# About these docs\n\nMore than one person has said it took them a while to understand the whole of Enty. Because of that I opted to use Storybook so you could see everything that goes into each example.   want these docs to be interactive and give you as much real code as they can. The idea is that you can see the finished outcome on the left, and view the annotated code that constructed that on the right. Most of the actual descriptions are in the code examples.\n\nCaveat: Due to Storybook being a component playground there were some workarounds required to keep all the conde in each story, and you should consider each as a fresh react project. In your code please declare your schemas and API at the root level, not in your component heirachy.\n\n`} /></Box>;\n\n\nexport const JustGiveMeTheCode = () => {\n\n    // EntitySchema.js\n\n    // Define a person schema that has a name and tells enty how to identify it\n    const person = new EntitySchema('person', {id: data => data.name});\n\n    // Define the schema for an array of people\n    const personList = new ArraySchema(person);\n\n    // Define our main schema as an object with people and person on it.\n    // Think of this like the graphql root resolver\n    const MainSchema = new ObjectSchema({\n        personList,\n        person\n    });\n\n    ////////////////////\n\n    // EntityApi.js\n\n    // Create an api by binding our schema to data fetching functions.\n    // Functions can return promises, observables or async generators.\n    // They can be nested to any level for organisiation.\n    const Api = EntityApi({\n        person: {\n            list: async (payload) => {\n                const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n                return {personList: data.results};\n            }\n        }\n    }, MainSchema)\n\n    ///////////////////\n\n    // App.js\n\n    const App = () => {\n        // Create an new message from our api.\n        // Messages contain all the information we need to fetch data\n        // and safely render it\n        const personListMessage = Api.person.list.useRequest();\n\n        // useEffect hook starts the person list request on render\n        useEffect(() => {\n            personListMessage.request({page: 1});\n        }, []);\n\n        // LoadingBoundary takes and message and will\n        // fallback to Spinner while it is fetching\n        return <Box padding=\"3\">\n            <LoadingBoundary message={personListMessage} fallback={Spinner}>\n                {({personList}) => {\n                    // data in the shape of our main schema is given\n                    // render props to the function\n                    return <ul>\n                        {personList.map(({name, birth_year}) => <li key={name}>\n                            <Text as=\"span\" fontWeight=\"bold\">{name}</Text>\n                            <Text as=\"span\"> ({birth_year})</Text>\n                        </li>)}\n                    </ul>\n                }}\n            </LoadingBoundary>\n        </Box>\n    }\n\n    // Wrap our app in the Api's provider to make sure we have access to state\n    // This would normally be ReactDOM.render(<Api.Provider>...</Api.Provider>, domNode);\n    return <Api.Provider>\n        <App />\n    </Api.Provider>;\n};\n\nexport const TodoApp = () => {\n    return <div>Todo</div>\n}\n",__ADDS_MAP__={"0-introduction-start-here--what-is-enty":{startLoc:{col:26,line:13},endLoc:{col:11,line:24},startBody:{col:26,line:13},endBody:{col:11,line:24}},"0-introduction-start-here--about-these-docs":{startLoc:{col:30,line:27},endLoc:{col:11,line:35},startBody:{col:30,line:27},endBody:{col:11,line:35}},"0-introduction-start-here--just-give-me-the-code":{startLoc:{col:33,line:38},endLoc:{col:1,line:109},startBody:{col:33,line:38},endBody:{col:1,line:109}},"0-introduction-start-here--todo-app":{startLoc:{col:23,line:111},endLoc:{col:1,line:113},startBody:{col:23,line:111},endBody:{col:1,line:113}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"// Setup\nimport React, {useEffect, useState} from 'react';\nimport Markdown from 'react-markdown/with-html';\nimport {Button, Spinner, Input, Box, Text, Message, Flex} from 'theme-ui';\nimport {get} from 'axios';\nimport {EntityApi, LoadingBoundary, EntitySchema, ObjectSchema, ArraySchema}  from 'react-enty';\n\nexport default {title: '0 Introduction | Start Here'};\n\n\n// Examples Start Here\n\nexport const WhatIsEnty = () => <Box padding=\"3\"><Markdown source={`\n\n# What is Enty?\n\nEnty is a normalized cache for front-ends designed to synchronized local state with an external source like a database.\n\n* It's declarative. (Designed for hooks)\n* It keeps your data up to date.\n* It's low boiler plate.\n* It works with promises, async generators and observables.\n\n`} /></Box>;\n\n\nexport const AboutTheseDocs = () => <Box padding=\"3\"><Markdown source={`\n\n# About these docs\n\nMore than one person has said it took them a while to understand the whole of Enty. Because of that I opted to use Storybook so you could see everything that goes into each example.   want these docs to be interactive and give you as much real code as they can. The idea is that you can see the finished outcome on the left, and view the annotated code that constructed that on the right. Most of the actual descriptions are in the code examples.\n\nCaveat: Due to Storybook being a component playground there were some workarounds required to keep all the conde in each story, and you should consider each as a fresh react project. In your code please declare your schemas and API at the root level, not in your component heirachy.\n\n`} /></Box>;\n\n\nexport const JustGiveMeTheCode = () => {\n\n    // EntitySchema.js\n\n    // Define a person schema that has a name and tells enty how to identify it\n    const person = new EntitySchema('person', {id: data => data.name});\n\n    // Define the schema for an array of people\n    const personList = new ArraySchema(person);\n\n    // Define our main schema as an object with people and person on it.\n    // Think of this like the graphql root resolver\n    const MainSchema = new ObjectSchema({\n        personList,\n        person\n    });\n\n    ////////////////////\n\n    // EntityApi.js\n\n    // Create an api by binding our schema to data fetching functions.\n    // Functions can return promises, observables or async generators.\n    // They can be nested to any level for organisiation.\n    const Api = EntityApi({\n        person: {\n            list: async (payload) => {\n                const {data} = await get(`https://swapi.dev/api/people/?page=${payload.page}`);\n                return {personList: data.results};\n            }\n        }\n    }, MainSchema)\n\n    ///////////////////\n\n    // App.js\n\n    const App = () => {\n        // Create an new message from our api.\n        // Messages contain all the information we need to fetch data\n        // and safely render it\n        const personListMessage = Api.person.list.useRequest();\n\n        // useEffect hook starts the person list request on render\n        useEffect(() => {\n            personListMessage.request({page: 1});\n        }, []);\n\n        // LoadingBoundary takes and message and will\n        // fallback to Spinner while it is fetching\n        return <Box padding=\"3\">\n            <LoadingBoundary message={personListMessage} fallback={Spinner}>\n                {({personList}) => {\n                    // data in the shape of our main schema is given\n                    // render props to the function\n                    return <ul>\n                        {personList.map(({name, birth_year}) => <li key={name}>\n                            <Text as=\"span\" fontWeight=\"bold\">{name}</Text>\n                            <Text as=\"span\"> ({birth_year})</Text>\n                        </li>)}\n                    </ul>\n                }}\n            </LoadingBoundary>\n        </Box>\n    }\n\n    // Wrap our app in the Api's provider to make sure we have access to state\n    // This would normally be ReactDOM.render(<Api.Provider>...</Api.Provider>, domNode);\n    return <Api.Provider>\n        <App />\n    </Api.Provider>;\n};\n\nexport const TodoApp = () => {\n    return <div>Todo</div>\n}\n",locationsMap:{"0-introduction-start-here--what-is-enty":{startLoc:{col:26,line:13},endLoc:{col:11,line:24},startBody:{col:26,line:13},endBody:{col:11,line:24}},"0-introduction-start-here--about-these-docs":{startLoc:{col:30,line:27},endLoc:{col:11,line:35},startBody:{col:30,line:27},endBody:{col:11,line:35}},"0-introduction-start-here--just-give-me-the-code":{startLoc:{col:33,line:38},endLoc:{col:1,line:109},startBody:{col:33,line:38},endBody:{col:1,line:109}},"0-introduction-start-here--todo-app":{startLoc:{col:23,line:111},endLoc:{col:1,line:113},startBody:{col:23,line:111},endBody:{col:1,line:113}}}}},title:"0 Introduction | Start Here"};var _ref=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_7__.a,{padding:"3"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_markdown_with_html__WEBPACK_IMPORTED_MODULE_6___default.a,{source:"\n\n# What is Enty?\n\nEnty is a normalized cache for front-ends designed to synchronized local state with an external source like a database.\n\n* It's declarative. (Designed for hooks)\n* It keeps your data up to date.\n* It's low boiler plate.\n* It works with promises, async generators and observables.\n\n"})),WhatIsEnty=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/start-here.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_7__.a,{padding:"3"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_markdown_with_html__WEBPACK_IMPORTED_MODULE_6___default.a,{source:"\n\n# About these docs\n\nMore than one person has said it took them a while to understand the whole of Enty. Because of that I opted to use Storybook so you could see everything that goes into each example.   want these docs to be interactive and give you as much real code as they can. The idea is that you can see the finished outcome on the left, and view the annotated code that constructed that on the right. Most of the actual descriptions are in the code examples.\n\nCaveat: Due to Storybook being a component playground there were some workarounds required to keep all the conde in each story, and you should consider each as a fresh react project. In your code please declare your schemas and API at the root level, not in your component heirachy.\n\n"})),AboutTheseDocs=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/start-here.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),JustGiveMeTheCode=addSourceDecorator((function(){var _list,person=new react_enty__WEBPACK_IMPORTED_MODULE_9__.EntitySchema("person",{id:function id(data){return data.name}}),personList=new react_enty__WEBPACK_IMPORTED_MODULE_9__.ArraySchema(person),MainSchema=new react_enty__WEBPACK_IMPORTED_MODULE_9__.ObjectSchema({personList:personList,person:person}),Api=Object(react_enty__WEBPACK_IMPORTED_MODULE_9__.EntityApi)({person:{list:(_list=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(payload){var _yield$get,data;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(axios__WEBPACK_IMPORTED_MODULE_8__.get)("https://swapi.dev/api/people/?page=".concat(payload.page));case 2:return _yield$get=_context.sent,data=_yield$get.data,_context.abrupt("return",{personList:data.results});case 5:case"end":return _context.stop()}}),_callee)}))),function list(){return _list.apply(this,arguments)})}},MainSchema);return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Api.Provider,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement((function App(){var personListMessage=Api.person.list.useRequest();return Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){personListMessage.request({page:1})}),[]),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_7__.a,{padding:"3"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_enty__WEBPACK_IMPORTED_MODULE_9__.LoadingBoundary,{message:personListMessage,fallback:theme_ui__WEBPACK_IMPORTED_MODULE_7__.e},(function(_ref3){var personList=_ref3.personList;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul",null,personList.map((function(_ref4){var name=_ref4.name,birth_year=_ref4.birth_year;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{key:name},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_7__.f,{as:"span",fontWeight:"bold"},name),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(theme_ui__WEBPACK_IMPORTED_MODULE_7__.f,{as:"span"}," (",birth_year,")"))})))})))}),null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/start-here.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref5=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,"Todo"),TodoApp=addSourceDecorator((function(){return _ref5}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/start-here.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})}},[[397,1,2]]]);
//# sourceMappingURL=main.f44df973d2f40c1e060f.bundle.js.map